___js_alert=alert;alert=function(b){try{if(b.__baseClass=="UMP.UI.Mvc.Context"){___js_alert(jsonToString(b.unload()))}else{if(typeof b=="object"){___js_alert(jsonToString(b))}else{___js_alert(b)}}}catch(a){___js_alert(b)}};$alert=alert;Array.prototype.remove=function(a){if(isNaN(a)||a>=this.length){return false}this.splice(a,1)};Array.prototype.remove2=function(a){if(isNaN(a)){return this}if(a<0||a>=this.length){return this}else{return this.slice(0,a).concat(this.slice(a+1,this.length))}};Array.prototype.remove3=function(a){if(isNaN(a)||a>this.length){return false}for(var b=0,c=0;b<this.length;b++){if(this[b]!=this[a]){this[c++]=this[b]}}this.length-=1};Map=function(){var d=function(g,h){this.key=g;this.value=h};var f=function(h,j){for(var g=0;g<this.arr.length;g++){if(this.arr[g].key===h){this.arr[g].value=j;return}}this.arr[this.arr.length]=new d(h,j)};var b=function(h){for(var g=0;g<this.arr.length;g++){if(this.arr[g].key===h){return this.arr[g].value}}return null};var a=function(j){var g;for(var h=0;h<this.arr.length;h++){g=this.arr.pop();if(g.key===j){continue}this.arr.unshift(g)}};var c=function(){return this.arr.length};var e=function(){return this.arr.length<=0};this.arr=new Array();this.get=b;this.put=f;this.remove=a;this.size=c;this.isEmpty=e};$jsonToString=function(obj){var THIS=this;switch(typeof(obj)){case"string":try{return eval('"'+obj.replace(/(["\\])/g,"\\$1")+'"')}catch(e){return obj}case"array":return"["+obj.map(THIS.jsonToString).join(",")+"]";case"object":if(obj instanceof Array){var strArr=[];var len=obj.length;for(var i=0;i<len;i++){var item=null;if(typeof obj[i]=="string"){item='"'+obj[i]+'"'}else{if(typeof obj[i]=="object"){item=THIS.jsonToString(obj[i])}else{item=THIS.jsonToString(obj[i])}}strArr.push(item)}return"["+strArr.join(",")+"]"}else{if(obj==null){return'""'}else{var string=[];for(var property in obj){var vv=THIS.jsonToString(obj[property]);var p=THIS.jsonToString(property);if(p.indexOf('"')>=0){}else{p='"'+p+'"'}if(obj[property] instanceof Array){}else{if(vv.toString().indexOf('"')>=0){}else{vv='"'+vv+'"'}}string.push(p+":"+vv)}return"{"+string.join(",")+"}"}}case"number":return obj;case"boolean":return'"'+obj.toString()+'"';case"undefined":return'""';case false:return obj}};jsonToString=$jsonToString;$stringToJSON=function(str){if(str==null||(typeof str=="string"&&str=="")){return null}if(typeof str=="string"){try{if(str.indexOf("\n")>=0){str=str.replace(/\n/g,"\\n")}if(str.indexOf("\r")>=0){str=str.replace(/\r/g,"\\r")}var json=eval("("+str+")");return json}catch(e){return str}}else{if(typeof str=="object"){return str}else{alert("$stringToJSON()出错!未识别的参数类型");return str}}};$translateToArray=function(a){for(key in a){var b=a[key];if(b=="{}"){a[key]={}}else{if(b=="[]"){a[key]=[]}else{if(typeof b=="object"){a[key]=$translateToArray(b)}}}}return a};stringToJSON=$stringToJSON;Function.__typeName="Function";Function.createDelegate=function Function$createDelegate(a,b){return function(){return b.apply(a,arguments)}};if(typeof(window)=="undefined"){this.window=this}window.Type=Function;window.__rootNamespaces=[];window.__registeredTypes={};Type.__fullyQualifiedIdentifierRegExp=new RegExp("^[^.0-9 \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]([^ \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]*[^. \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\])?$","i");Type.__identifierRegExp=new RegExp("^[^.0-9 \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\][^. \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]*$","i");Type.prototype.callBaseMethod=function Type$callBaseMethod(c,d,b){var a=this.getBaseMethod(c,d);if(!a){throw"Error.invalidOperation(String.format(Sys.Res.methodNotFound, name))"}if(!b){return a.apply(c)}else{return a.apply(c,b)}};Type.prototype.getBaseMethod=function Type$getBaseMethod(b,c){if(!this.isInstanceOfType(b)){throw"Error.argumentType('instance', Object.getType(instance), this)"}var d=this.getBaseType();if(d){var a=d.prototype[c];return(a instanceof Function)?a:null}return null};Type.prototype.getBaseType=function Type$getBaseType(){if(arguments.length!==0){throw"Error.parameterCount()"}return(typeof(this.__baseType)==="undefined")?null:this.__baseType};Type.prototype.getInterfaces=function Type$getInterfaces(){if(arguments.length!==0){throw"Error.parameterCount()"}var a=[];var d=this;while(d){var f=d.__interfaces;if(f){for(var c=0,b=f.length;c<b;c++){var e=f[c];if(!Array.contains(a,e)){a[a.length]=e}}}d=d.__baseType}return a};Type.prototype.getName=function Type$getName(){if(arguments.length!==0){throw"Error.parameterCount()"}return(typeof(this.__typeName)==="undefined")?"":this.__typeName};Type.prototype.implementsInterface=function Type$implementsInterface(f){this.resolveInheritance();var c=f.getName();var a=this.__interfaceCache;if(a){var e=a[c];if(typeof(e)!=="undefined"){return e}}else{a=this.__interfaceCache={}}var b=this;while(b){var d=b.__interfaces;if(d){if(Array.indexOf(d,f)!==-1){return a[c]=true}}b=b.__baseType}return a[c]=false};Type.prototype.inheritsFrom=function Type$inheritsFrom(b){this.resolveInheritance();var a=this.__baseType;while(a){if(a===b){return true}a=a.__baseType}return false};Type.prototype.initializeBase=function Type$initializeBase(b,a){if(!this.isInstanceOfType(b)){throw"Error.argumentType('instance', Object.getType(instance), this)"}this.resolveInheritance();if(this.__baseType){if(!a){this.__baseType.apply(b)}else{this.__baseType.apply(b,a)}}return b};Type.prototype.isImplementedBy=function Type$isImplementedBy(a){if(typeof(a)==="undefined"||a===null){return false}var b=Object.getType(a);return !!(b.implementsInterface&&b.implementsInterface(this))};Type.prototype.isInstanceOfType=function Type$isInstanceOfType(a){if(typeof(a)==="undefined"||a===null){return false}if(a instanceof this){return true}var b=Object.getType(a);return !!(b===this)||(b.inheritsFrom&&b.inheritsFrom(this))||(b.implementsInterface&&b.implementsInterface(this))};Type.prototype.registerClass=function Type$registerClass(typeName,baseType,interfaceTypes){if(!Type.__fullyQualifiedIdentifierRegExp.test(typeName)){throw"Error.argument('typeName', Sys.Res.notATypeName)"}var parsedName;try{parsedName=eval(typeName)}catch(e){throw"Error.argument('typeName', Sys.Res.argumentTypeName)"}if(parsedName!==this){throw"Error.argument('typeName', Sys.Res.badTypeName)"}if(window.__registeredTypes[typeName]){}if((arguments.length>1)&&(typeof(baseType)==="undefined")){alert("baseType of ["+typeName+" ] is 'undefined', probably error in the baseType");throw"Error.argumentUndefined('baseType')"}if(baseType&&!baseType.__class){alert("baseType of ["+typeName+" ] is not a class, probably error in the baseType");throw"Error.argument('baseType', Sys.Res.baseNotAClass)"}this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;this.__basePrototypePending=true}if(!window.__classes){window.__classes={}}window.__classes[typeName.toUpperCase()]=this;if(interfaceTypes){this.__interfaces=[];for(var i=2;i<arguments.length;i++){var interfaceType=arguments[i];if(!interfaceType.__interface){throw"Error.argument('interfaceTypes[' + (i - 2) + ']', Sys.Res.notAnInterface)"}this.resolveInheritance();for(var methodName in interfaceType.prototype){var method=interfaceType.prototype[methodName];if(!this.prototype[methodName]){this.prototype[methodName]=method}}this.__interfaces.push(interfaceType)}}window.__registeredTypes[typeName]=true;return this};Type.prototype.registerInterface=function Type$registerInterface(typeName){if(!Type.__fullyQualifiedIdentifierRegExp.test(typeName)){"throw Error.argument('typeName', Sys.Res.notATypeName)"}var parsedName;try{parsedName=eval(typeName)}catch(e){throw"Error.argument('typeName', Sys.Res.argumentTypeName)"}if(parsedName!==this){throw"Error.argument('typeName', Sys.Res.badTypeName)"}if(window.__registeredTypes[typeName]){throw"Error.invalidOperation(String.format(Sys.Res.typeRegisteredTwice, typeName))"}this.prototype.constructor=this;this.__typeName=typeName;this.__interface=true;window.__registeredTypes[typeName]=true;return this};Type.prototype.resolveInheritance=function Type$resolveInheritance(){if(arguments.length!==0){"throw Error.parameterCount()"}if(this.__basePrototypePending){var c=this.__baseType;c.resolveInheritance();for(var b in c.prototype){var a=c.prototype[b];if(!this.prototype[b]){this.prototype[b]=a}}delete this.__basePrototypePending}};Type.getRootNamespaces=function Type$getRootNamespaces(){if(arguments.length!==0){throw"Error.parameterCount()"}return Array.clone(window.__rootNamespaces)};Type.isClass=function Type$isClass(a){if((typeof(a)==="undefined")||(a===null)){return false}return !!a.__class};Type.isInterface=function Type$isInterface(a){if((typeof(a)==="undefined")||(a===null)){return false}return !!a.__interface};Type.isNamespace=function Type$isNamespace(a){if((typeof(a)==="undefined")||(a===null)){return false}return !!a.__namespace};Type.parse=function Type$parse(typeName,ns){var fn;if(ns){if(!window.__classes){return null}fn=window.__classes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()];return fn||null}if(!typeName){return null}if(!Type.__htClasses){Type.__htClasses={}}fn=Type.__htClasses[typeName];if(!fn){fn=eval(typeName);if(typeof(fn)!=="function"){throw"Error.argument('typeName', Sys.Res.notATypeName)"}Type.__htClasses[typeName]=fn}return fn};Type.registerNamespace=function Type$registerNamespace(namespacePath){if(!Type.__fullyQualifiedIdentifierRegExp.test(namespacePath)){throw"Error.argument('namespacePath', Sys.Res.invalidNameSpace)"}var rootObject=window;var namespaceParts=namespacePath.split(".");for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];if(ns&&!ns.__namespace){}if(!ns){ns=rootObject[currentPart]={};if(i===0){window.__rootNamespaces[window.__rootNamespaces.length]=ns}ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join(".");var parsedName;try{parsedName=eval(ns.__typeName)}catch(e){parsedName=null}if(parsedName!==ns){throw Error.argument("namespacePath",Sys.Res.invalidNameSpace)}ns.getName=function ns$getName(){return this.__typeName}}rootObject=ns}};Object.__typeName="Object";Object.getType=function Object$getType(a){var b=a.constructor;if(!b||(typeof(b)!=="function")||!b.__typeName||(b.__typeName==="Object")){return Object}return b};Object.getTypeName=function Object$getTypeName(a){return Object.getType(a).getName()};Array.__typeName="Array";Array.add=Array.enqueue=function Array$enqueue(b,a){b[b.length]=a};Array.addRange=function Array$addRange(c,a){var b=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"items",type:Array,elementMayBeNull:true}]);if(b){throw b}c.push.apply(c,a)};Array.clear=function Array$clear(b){var a=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true}]);if(a){throw a}b.length=0};Array.clone=function Array$clone(a){if(a.length===1){return[a[0]]}else{return Array.apply(null,a)}};Array.contains=function Array$contains(c,a){var b=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"item",mayBeNull:true}]);if(b){throw b}return(Array.indexOf(c,a)>=0)};Array.dequeue=function Array$dequeue(b){var a=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true}]);if(a){throw a}return b.shift()};Array.forEach=function Array$forEach(h,g,a){var f=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"method",type:Function},{name:"instance",mayBeNull:true,optional:true}]);if(f){throw f}for(var d=0,b=h.length;d<b;d++){var c=h[d];if(typeof(c)!=="undefined"){g.call(a,c,d,h)}}};Array.indexOf=function Array$indexOf(g,c,f){var d=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"item",mayBeNull:true,optional:true},{name:"start",mayBeNull:true,optional:true}]);if(d){throw d}if(typeof(c)==="undefined"){return -1}var b=g.length;if(b!==0){f=f-0;if(isNaN(f)){f=0}else{if(isFinite(f)){f=f-(f%1)}if(f<0){f=Math.max(0,b+f)}}for(var a=f;a<b;a++){if((typeof(g[a])!=="undefined")&&(g[a]===c)){return a}}}return -1};Array.insert=function Array$insert(d,a,b){var c=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"index",mayBeNull:true},{name:"item",mayBeNull:true}]);if(c){throw c}d.splice(a,0,b)};Array.parse=function Array$parse(value){var e=Function._validateParams(arguments,[{name:"value",type:String,mayBeNull:true}]);if(e){throw e}if(!value){return[]}var v=eval(value);if(!Array.isInstanceOfType(v)){throw Error.argument("value",Sys.Res.arrayParseBadFormat)}return v};Array.remove=function Array$remove(d,b){var c=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"item",mayBeNull:true}]);if(c){throw c}var a=Array.indexOf(d,b);if(a>=0){d.splice(a,1)}return(a>=0)};Array.removeAt=function Array$removeAt(c,a){var b=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:true},{name:"index",mayBeNull:true}]);if(b){throw b}c.splice(a,1)};function Sys$Enum$parse(l,h){var g=Function._validateParams(arguments,[{name:"value",type:String},{name:"ignoreCase",type:Boolean,optional:true}]);if(g){throw g}var n,j,c;if(h){n=this.__lowerCaseValues;if(!n){this.__lowerCaseValues=n={};var k=this.prototype;for(var a in k){n[a.toLowerCase()]=k[a]}}}else{n=this.prototype}if(!this.__flags){c=(h?l.toLowerCase():l);j=n[c.trim()];if(typeof(j)!=="number"){throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,l,this.__typeName))}return j}else{var d=(h?l.toLowerCase():l).split(",");var m=0;for(var f=d.length-1;f>=0;f--){var b=d[f].trim();j=n[b];if(typeof(j)!=="number"){throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,l.split(",")[f].trim(),this.__typeName))}m|=j}return m}}function Sys$Enum$toString(h){var f=Function._validateParams(arguments,[{name:"value",mayBeNull:true,optional:true}]);if(f){throw f}if((typeof(h)==="undefined")||(h===null)){return this.__string}if((typeof(h)!="number")||((h%1)!==0)){throw Error.argumentType("value",Object.getType(h),this)}var j=this.prototype;var d;if(!this.__flags||(h===0)){for(d in j){if(j[d]===h){return d}}}else{var g=this.__sortedValues;if(!g){g=[];for(d in j){g[g.length]={key:d,value:j[d]}}g.sort(function(i,e){return i.value-e.value});this.__sortedValues=g}var c=[];var k=h;for(d=g.length-1;d>=0;d--){var b=g[d];var a=b.value;if(a===0){continue}if((a&h)===a){c[c.length]=b.key;k-=a;if(k===0){break}}}if(c.length&&k===0){return c.reverse().join(", ")}}throw Error.argumentOutOfRange("value",h,String.format(Sys.Res.enumInvalidValue,h,this.__typeName))}Type.prototype.registerEnum=function Type$registerEnum(name,flags){if(!Type.__fullyQualifiedIdentifierRegExp.test(name)){throw"Error.argument('name', Sys.Res.notATypeName)"}var parsedName;try{parsedName=eval(name)}catch(e){throw"Error.argument('name', Sys.Res.argumentTypeName)"}if(parsedName!==this){throw"Error.argument('name', Sys.Res.badTypeName)"}if(window.__registeredTypes[name]){throw"Error.invalidOperation(String.format(Sys.Res.typeRegisteredTwice, name))"}for(var i in this.prototype){var val=this.prototype[i];if(!Type.__identifierRegExp.test(i)){throw"Error.invalidOperation(String.format(Sys.Res.enumInvalidValueName, i))"}if(typeof(val)!=="number"||(val%1)!==0){throw"Error.invalidOperation(Sys.Res.enumValueNotInteger)"}if(typeof(this[i])!=="undefined"){throw"Error.invalidOperation(String.format(Sys.Res.enumReservedName, i))"}}for(var i in this.prototype){this[i]=this.prototype[i]}this.__typeName=name;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=flags;this.__enum=true;window.__registeredTypes[name]=true};Type.isEnum=function Type$isEnum(a){var b=Function._validateParams(arguments,[{name:"type",mayBeNull:true}]);if(b){throw b}if((typeof(a)==="undefined")||(a===null)){return false}return !!a.__enum};Type.isFlags=function Type$isFlags(a){var b=Function._validateParams(arguments,[{name:"type",mayBeNull:true}]);if(b){throw b}if((typeof(a)==="undefined")||(a===null)){return false}return !!a.__flags};Type.registerNamespace("Sys");Sys.Component=function Sys$Component(){this._id=null};function Sys$Component$get_id(){return this._id}Sys.Component.prototype={get_id:Sys$Component$get_id};Sys.Component.registerClass("Sys.Component");Sys._Application=function Sys$_Application(){this._components={};this._createdComponents=[]};function UMP$Sys$_Application$findComponent(b,a){if(a){alert("Exception in the Method[UMP$Sys$_Application$findComponent]");return Sys.Application._components[b]||null;if(Sys.IContainer.isInstanceOfType(a)){return a.findComponent(b)}else{return a[b]||null}}return Sys.Application._components[b]||null}Sys._Application.prototype={findComponent:UMP$Sys$_Application$findComponent};Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer);Sys.Application=new Sys._Application();Sys.EventHandlerList=function Sys$EventHandlerList(){if(arguments.length!==0){throw Error.parameterCount()}this._list={}};function Sys$EventHandlerList$addHandler(b,a){Array.add(this._getEvent(b,true),a)}function Sys$EventHandlerList$removeHandler(c,b){var a=this._getEvent(c);if(!a){return}Array.remove(a,b)}function Sys$EventHandlerList$getHandler(b){var a=this._getEvent(b);if(!a||(a.length===0)){return null}a=Array.clone(a);if(!a._handler){a._handler=function(f,d){for(var e=0,c=a.length;e<c;e++){a[e](f,d)}}}return a._handler}function Sys$EventHandlerList$_getEvent(b,a){if(!this._list[b]){if(!a){return null}this._list[b]=[]}return this._list[b]}Sys.EventHandlerList.prototype={addHandler:Sys$EventHandlerList$addHandler,removeHandler:Sys$EventHandlerList$removeHandler,getHandler:Sys$EventHandlerList$getHandler,_getEvent:Sys$EventHandlerList$_getEvent};Sys.EventHandlerList.registerClass("Sys.EventHandlerList");Sys.EventArgs=function Sys$EventArgs(){if(arguments.length!==0){throw Error.parameterCount()}};Sys.EventArgs.registerClass("Sys.EventArgs");Sys.EventArgs.Empty=new Sys.EventArgs();Type.registerNamespace("Sys.UI");Sys.UI.DomEvent=function Sys$UI$DomEvent(a){var b=a;this.rawEvent=b;this.altKey=b.altKey;if(typeof(b.button)!=="undefined"){this.button=(typeof(b.which)!=="undefined")?b.button:(b.button===4)?Sys.UI.MouseButton.middleButton:(b.button===2)?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton}if(b.type==="keypress"){this.charCode=b.charCode||b.keyCode}else{if(b.keyCode&&(b.keyCode===46)){this.keyCode=127}else{this.keyCode=b.keyCode}}this.shiftKey=b.shiftKey;this.type=b.type};function Sys$UI$DomEvent$preventDefault(){if(arguments.length!==0){throw Error.parameterCount()}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault()}else{if(window.event){window.event.returnValue=false}}}function Sys$UI$DomEvent$stopPropagation(){if(arguments.length!==0){throw Error.parameterCount()}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}}}Sys.UI.DomEvent.prototype={preventDefault:Sys$UI$DomEvent$preventDefault,stopPropagation:Sys$UI$DomEvent$stopPropagation};Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $find=Sys.Application.findComponent;var $get=function(){return document.getElementById(id)};var $addHandler=Sys.UI.DomEvent.addHandler=function Sys$UI$DomEvent$addHandler(c,a,d){if(!c._events){c._events={}}var b=c._events[a];if(!b){c._events[a]=b=[]}var e;if(c.addEventListener){e=function(f){return d.call(c,new Sys.UI.DomEvent(f))};c.addEventListener(a,e,false)}else{if(c.attachEvent){e=function(){return d.call(c,new Sys.UI.DomEvent(window.event))};c.attachEvent("on"+a,e)}}b[b.length]={handler:d,browserHandler:e}};var $removeHandler=Sys.UI.DomEvent.removeHandler=function Sys$UI$DomEvent$removeHandler(e,c,f){var g=null;if((typeof(e._events)!=="object")||(e._events==null)){alert("Error in $removeHandler");return}var b=e._events[c];if(!(b instanceof Array)){alert("Error in $removeHandler");return}for(var d=0,a=b.length;d<a;d++){if(b[d].handler===f){g=b[d].browserHandler;break}}if(typeof(g)!=="function"){alert("Error in $removeHandler");return}if(e.removeEventListener){e.removeEventListener(c,g,false)}else{if(e.detachEvent){e.detachEvent("on"+c,g)}}b.splice(d,1)};UM_CallAction=function(){};UM_CallRemoteService=function(c,a,e,d,b){};SysHelper=function(){};SysHelper.prototype.navigate=function(a){};SysHelper.prototype.callAction=function(a){};UM_Sys=new SysHelper();ControlsHelper=function(){};ControlsHelper.prototype.get=function(a){this._cid=a;return this};ControlsHelper.prototype.set=function(a,b){};ControlsHelper.prototype.call=function(a,b){};UM_Controls=new ControlsHelper();ContextHelper=function(){};ContextHelper.prototype.init=function(a){this._ctx=a;return this};ContextHelper.prototype.setValue=function(propname,value){if(eval("this._ctx."+propname)==null){alert("error!  no property: "+propname)}else{eval("this._ctx."+propname+'="'+value+'"')}};ContextHelper.prototype.getValue=function(propname){if(eval("this._ctx."+propname)==null){alert("error!  no property: "+propname)}else{return eval("this._ctx."+propname)}};UM_Context=new ContextHelper();CommonNativeCallService=function(){this.GetDeviceData="um_getDevicedata";this.GetUserData="um_getUserData";this.GetAppData="um_getAppData";this.GetAppConfigData="um_getAppConfigData";this.CallTel="um_CallTel";this.SendMsg="um_SendMsg";this.IsConnect="um_IsConnect";this.GetCurrentLanguage="um_GetCurrentLanguage";this.GetCurrentLocation="um_GetCurrentLocation";this.Store="um_Store";this.Restore="um_Restore"};CommonNativeCallService.prototype.store=function(a,b){};CommonNativeCallService.prototype.reStore=function(a){};CommonNativeCallService.prototype.getDeviceData=function(){};CommonNativeCallService.prototype.getUserData=function(){};CommonNativeCallService.prototype.getAppData=function(){};CommonNativeCallService.prototype.getAppConfigData=function(){};CommonNativeCallService.prototype.callTel=function(a){};CommonNativeCallService.prototype.sendMsg=function(a,b){};CommonNativeCallService.prototype.isConnect=function(){};CommonNativeCallService.prototype.getCurrentLanguage=function(){};CommonNativeCallService.prototype.getCurrentLocation=function(){return UM_callNativeService(this.GetCurrentLocation)};CommonNativeCallService.prototype.callService=function(b,a){};UM_NativeCall=new CommonNativeCallService();if(typeof alert=="undefined"){alert=function(a){}}if(typeof adrinvoker=="undefined"){adrinvoker=function(a){}}if(typeof console=="undefined"){console=function(a){}}CurrentEnvironment={};CurrentEnvironment.DeviceIOS="ios";CurrentEnvironment.DeviceAndroid="android";CurrentEnvironment.DeviceWin8="win8";CurrentEnvironment.DevicePC="pc";CurrentEnvironment.DeviceType="android";$environment=CurrentEnvironment;SysHelper=function(){};Type.registerNamespace("UMP.UI.Container");UMP.UI.Container.SysHelper=function(){this._version="";this._cancelpush=false};function UMP$UI$Container$SysHelper$navigate(b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_SysNavigate(b)}else{if(adrinvoker){adrinvoker.call("UMView.open","{viewid:'"+b+"'}")}else{var a="adrinvoker is undefined; navigate is executing, the parameter viewid is ["+b+"]";alert(a)}}}function UMP$UI$Container$SysHelper$callAction(f,a){if(a){var c={};if(typeof $document!="undefined"){c.document=$document.dataToString()}else{c.document={}}try{c.context=jsonToString(a);_$sys.push(c)}catch(d){alert(d.stack)}}if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_SysCallAction(f)}else{if(adrinvoker){adrinvoker.call("UMJS.callAction","{actionid:'"+f+"'}")}else{var b="adrinvoker is undefined; callAction is executing, the parameter action is ["+f+"]";alert(b)}}}function UMP$UI$Container$SysHelper$cancelPush(a){if(typeof a=="undefined"){return this._cancelpush}else{this._cancelpush=a}}function UMP$UI$Container$SysHelper$push(a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){var c=jsonToString(a);UM_NativeCall.callService("UMJS.push",c)}else{var c=jsonToString(a);if(adrinvoker){adrinvoker.call("UMJS.push",c)}else{var b="adrinvoker is undefined; push is executing, the parameter jsonArgs is ["+c+"]";alert(b)}}}function UMP$UI$Container$SysHelper$version(a){if(typeof a==="undefined"){return this._version}else{this._version=a}}function UMP$UI$Container$SysHelper$pull(){}UMP.UI.Container.SysHelper.prototype={navigate:UMP$UI$Container$SysHelper$navigate,callAction:UMP$UI$Container$SysHelper$callAction,cancelPush:UMP$UI$Container$SysHelper$cancelPush,push:UMP$UI$Container$SysHelper$push,pull:UMP$UI$Container$SysHelper$pull,version:UMP$UI$Container$SysHelper$version};UMP.UI.Container.SysHelper.registerClass("UMP.UI.Container.SysHelper");UM_Sys=new UMP.UI.Container.SysHelper();_$sys=UM_Sys;$sys=_$sys;CommonNativeCallService=function(){this.GetDeviceData="um_getDevicedata";this.GetUserData="um_getUserData";this.GetAppData="um_getAppData";this.GetAppConfigData="um_getAppConfigData";this.CallTel="um_CallTel";this.SendMsg="um_SendMsg";this.IsConnect="um_IsConnect";this.GetCurrentLanguage="um_GetCurrentLanguage";this.GetCurrentLocation="um_GetCurrentLocation";this.Store="um_Store";this.Restore="um_Restore";this._APIIsObsolete="the API is obsolete, but continue executing...please use the new API: "};CommonNativeCallService.prototype.callService=function(f,a,d){try{var b="";if(typeof a=="string"){var c=stringToJSON(a);if(typeof c=="string"){alert("调用服务["+f+"]时参数不是一个有效的json字符串。参数是"+a);return}b=jsonToString(c);if(typeof b=="object"){alert("调用服务["+f+"]时传递的参数不能标准化为json字符串，请检查参数格式。参数是"+a);return}}else{if(typeof a=="object"){b=jsonToString(a);if(typeof b=="object"){alert("调用服务["+f+"]时传递的参数不能标准化为json字符串，请检查参数格式"+a);return}}else{alert("调用$service.call("+f+", jsonArgs, "+d+")时不合法,参数jsonArgs类型为"+typeof a);return}}if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){if(d){return UM_callNativeService(f,b)}else{return UM_callNativeServiceNoraml(f,b)}}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){if(d){return adrinvoker.call2(f,b)}else{return adrinvoker.call(f,b)}}else{alert("CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceAndroid+", $service.call Not Implementation!")}}}catch(h){var g="";if(d){g='调用$service.call("'+f+'", jsonArgs, '+d+")时发生异常,请检查!"}else{g='调用$service.call("'+f+'", jsonArgs)时发生异常,请检查!'}$console.log(g);alert(g+", 更多请查看console日志");alert("错误堆栈信息为:"+h.stack)}};CommonNativeCallService.prototype.callAction=function(i,h,d,e,f,b,c){var g={};g.viewid=i;g.action=h;g.params=d;g.isDataCollect=e;g.callback=f;g.contextmapping=b;if(c){for(key in c){g[key]=c[key]}}var a=$jsonToString(g);return UM_NativeCall.callService("UMService.callAction",a)};CommonNativeCallService.prototype.store=function(a,b){$cache.write(a,b)};CommonNativeCallService.prototype.reStore=function(a){$cache.read(a)};CommonNativeCallService.prototype.getDeviceData=function(){return UM_callNativeService(this.GetDeviceData)};CommonNativeCallService.prototype.getUserData=function(){return UM_callNativeService(this.GetUserData)};CommonNativeCallService.prototype.getAppData=function(){return UM_callNativeService(this.GetAppData)};CommonNativeCallService.prototype.getAppConfigData=function(){return UM_callNativeService(this.GetAppConfigData)};CommonNativeCallService.prototype.callTel=function(a){alert("the API is obsolete, but continue executing...please use the new API: $tel.call(tel);");$tel.call(a)};CommonNativeCallService.prototype.sendMsg=function(a,b){alert(this._APIIsObsolete+"$tel.sendMsg(tel,msg);");$tel.sendMsg(a,b)};CommonNativeCallService.prototype.isConnect=function(){alert(this._APIIsObsolete+"$net.isConnect();");$net.isConnect()};CommonNativeCallService.prototype.getCurrentLanguage=function(){return UM_callNativeService(this.GetCurrentLanguage)};CommonNativeCallService.prototype.getCurrentLocation=function(){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){return UM_callNativeService(this.GetCurrentLocation)}else{adrinvoker.call2("UMDevice.getLocation","")}};CommonNativeCallService.prototype.writeConfig=function(b,d){var a={};if(typeof d=="string"){a[b]=d}else{if(typeof d=="object"){a[b]=d}else{alert("writeConfig时，不支持第二个参数[val]的参数类型为"+typeof d);return}}var c=$jsonToString(a);UM_NativeCall.callService("UMService.writeConfigure",c)};CommonNativeCallService.prototype.loadConfig=function(b,d){var a={};if(typeof val=="string"){a[b]=d}else{alert("loadConfig时，不支持第二个参数[fieldName]的参数类型为"+typeof d);return}var c=$jsonToString(a);return UM_NativeCall.callService("UMService.loadConfigure",c,true)};CommonNativeCallService.prototype.readConfig=function(b){var a={};if(typeof b=="string"){a[b]=b}else{alert("readConfig时，不支持参数[name]的参数类型为"+typeof b);return}var c=$jsonToString(a);return UM_NativeCall.callService("UMService.readConfigure",c,true)};CommonNativeCallService.prototype.login=function(b,a){return UM_NativeCall.callService("UMService.login",'{"username":"'+b+'","passwd":"'+a+'"}')};CommonNativeCallService.prototype.transInfoService=function(c,d,a){var b={};b.infoid=c;b.binderfiled=d;if(a!=null){b.transtype=a}return $service.call("UMService.transInfoService",$jsonToString(b))};UM_NativeCall=new CommonNativeCallService();$service=UM_NativeCall;$service.call=UM_NativeCall.callService;ControlsHelper=function(){};ControlsHelper.prototype.get=function(a){this._cid=a;return this};ControlsHelper.prototype.set=function(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_setControlAttribute(this._cid,a,b)}else{adrinvoker.call("UMJS.setProperty","{id:'"+this._cid+"',"+a+":'"+b+"'}")}};ControlsHelper.prototype.call=function(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callControlMethod(this._cid,a,b)}else{alert("No Implementation")}};UM_Controls=new ControlsHelper();Type.registerNamespace("UMP.Services");UMP.Services.Controls=function UMP$Services$Controls(){};function UMP$Services$Controls$get(d,a){var b={};b.id=d;b.propertyName=a;var c=$jsonToString(b);return $service.callService("UMJS.getProperty",c,true)}function UMP$Services$Controls$set(e,b,a){var c={};c.id=e;c[b]=a;var d=$jsonToString(c);return $service.callService("UMJS.setProperty",d,false)}UMP.Services.Controls.prototype={get:UMP$Services$Controls$get,set:UMP$Services$Controls$set};UMP.Services.Controls.registerClass("UMP.Services.Controls");var $controls=new UMP.Services.Controls();Type.registerNamespace("UMP.UI.Container");UMP.UI.Container.Dom=function UMP$UI$Container$Dom(){};function UMP$UI$Container$Dom$set(h,c,b,a){var g={button1:{status:"add",tag:"intput",attributes:{id:"button1",type:"button",text:"abc"}},div1:{status:"mod",tag:"div",attributes:{id:"div1",background:"#e3e3e3",visible:"true"}}};if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_setControlAttribute(h,attrName,attrValue)}else{var f={status:c,tag:b,attributes:a};var d={id:f};var e=$jsonToString(d);adrinvoker.call("UMJS.setProperty",e)}}function UMP$UI$Container$Dom$push(a){for(id in a._tree){this.set(id,a[id])}}function UMP$UI$Container$Dom$pull(){}UMP.UI.Container.Dom.prototype={set:UMP$UI$Container$Dom$set,push:UMP$UI$Container$Dom$push,pull:UMP$UI$Container$Dom$pull};UMP.UI.Container.Dom.registerClass("UMP.UI.Container.Dom");var $dom=new UMP.UI.Container.Dom();ContextHelper=function(){};ContextHelper.prototype.init=function(a){this._ctx=a;return this};ContextHelper.prototype.setValue=function(propname,value,ctx){this._ctx=ctx;eval("this._ctx."+propname+'="'+value+'"')};ContextHelper.prototype.getValue=function(propname,ctx){this._ctx=ctx;if(eval("this._ctx."+propname)==null){alert("error!  no property: "+propname)}else{return eval("this._ctx."+propname)}};UM_Context=new ContextHelper();callbackMap=new Map();MessagePool=function(){this.Message=new Array();this.ErrorMessage=new Array();this.MessageLevel={};this.MessageLevel.All=-1;this.MessageLevel.Warnning=1;this.MessageLevel.Error=2};MessagePool.prototype.log=function(b,a){if(b==this.MessageLevel.Error){this.ErrorMessage.push(a)}else{this.Message.push(a)}};MessagePool.prototype.getErrorMessage=function(){var a="[";for(var b=0;b<this.ErrorMessage.length;b++){if(b==this.ErrorMessage.length-1){a+='"'+this.ErrorMessage.shift()+'"'}else{a+='"'+this.ErrorMessage.shift()+'",'}}a+="]";return a};MessagePool.prototype.getWarnningMessage=function(){var a="[";for(var b=0;b<this.Message.length;b++){if(b==this.Message.length-1){a+=this.Message.shift()}else{a+=this.Message.shift()+","}}a+="]";return a};MessagePool.prototype.getMessage=function(d){var b;if(d==this.MessageLevel.Error){b=this.getErrorMessage()}else{if(d==this.MessageLevel.All){var a=this.getErrorMessage();var c=this.getWarnningMessage();b='{"error":'+a+',"warnning":'+c+"}"}else{b=this.getWarnningMessage()}}return b};messagePool=new MessagePool();RequestContext=function(){this.Source="";this.Key=""};CommonCRUD=function(){};CommonCRUD.prototype.loadModel=function(a,b){$UMP$getMM().set(a,b)};CommonCRUD.prototype.dispacherCallbackHandler=function(b,a){alert(b);callbackMap.get(a).call(this,b)};CommonCRUD.prototype.callService=function(d,a,e,b,c){b.Key=d+a+b.Source;callbackMap.put(b.Key,c);UM_CallRemoteService(d,a,e,b.Source,b.Key)};commonService=new CommonCRUD();Controllers={};function getController(controllername){return eval("(new "+controllername+"())")}function setControlValue(c,a,b){return UM_setControlAttribute(c,a,b)}function getModel(a){return jsonToString($UMP$getMM().get(a))}function updateModel(a,b){$UMP$getMM().get(a).set(stringToJSON(b))}function bindEvent(eventname,filedname,modelname){modelname="CustomerSubmit";$UMP$getMM().get(modelname).bind(eventname,filedname,function(a,value,params){var eventobject={};eventobject.data=a.changed;eval('eventobject.source={"'+eventname+'":"'+modelname+"."+filedname+'"}');if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_CallAction("","dispacherEventToWeView",jsonToString(eventobject))}else{dispacherEventAndroid(jsonToString(eventobject))}})}function dispacherEventAndroid(a){}Type.registerNamespace("UMP.Services");UMP.Services.Network=function UMP$Services$Network(){this.um_IsConnect="um_IsConnect";this.UMNetwork_isAvailable="UMNetwork.isAvailable";this.UMNetwork_networkState="UMNetwork.networkState";this.UMNetwork_getNetworkInfo="UMNetwork.getNetworkInfo"};function UMP$Services$Network$isConnect(){if($environment.DeviceType==$environment.DeviceIOS){return $service.call(this.um_IsConnect,{},true)}else{if($environment.DeviceType==$environment.DeviceAndroid){return $service.call(this.UMNetwork_isAvailable,{},true)}}}function UMP$Services$Network$available(){return this.isConnect()}function UMP$Services$Network$networkState(){if($environment.DeviceType==$environment.DeviceIOS){alert("该服务[networkState]苹果未实现，请联系苹果开发人员");return{}}else{if($environment.DeviceType==$environment.DeviceAndroid){return $service.call(this.UMNetwork_networkState,{},true)}}}function UMP$Services$Network$getNetworkInfo(){var a=$service.call(this.UMNetwork_getNetworkInfo,{},true);if(typeof a=="String"){return $stringToJSON(a)}else{return a}}UMP.Services.Network.prototype={isConnect:UMP$Services$Network$isConnect,available:UMP$Services$Network$available,networkState:UMP$Services$Network$networkState,getNetworkInfo:UMP$Services$Network$getNetworkInfo};UMP.Services.Network.registerClass("UMP.Services.Network");var $net=new UMP.Services.Network();Type.registerNamespace("UMP.Services");UMP.Services.Telephone=function UMP$Services$Telephone(){this._SAVECONTACT="um_saveContact";this._CALLTEL="um_CallTel";this._SENDMSG="um_SendMsg";this._SENDEMAIL="um_SendEmail"};function UMP$Services$Telephone$saveContact(d,b,a,f,e){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._SAVECONTACT,d,b,a,f,e)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){var c={};c.tel=d;c.employeename=b;c.jobname=a;c.orgname=f;c.adress=e;$service.call("UMDevice.saveContact",$jsonToString(c))}else{alert("Not implementate UMP$Services$Telephone$saveContact in CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceType)}}}function UMP$Services$Telephone$call(a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._CALLTEL,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMDevice.callPhone","{tel:'"+a+"'}")}else{alert("Not implementate UMP$Services$Telephone$call in CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceType)}}}function UMP$Services$Telephone$sendMsg(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._SENDMSG,a,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMDevice.sendMsg","{tel:'"+a+"',body:'"+b+"'}")}}}function UMP$Services$Telephone$sendMail(b,a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._SENDEMAIL,b,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMDevice.sendMail","{mail:'"+b+"',body:'"+a+"'}")}}}UMP.Services.Telephone.prototype={saveContact:UMP$Services$Telephone$saveContact,call:UMP$Services$Telephone$call,sendMsg:UMP$Services$Telephone$sendMsg,sendMail:UMP$Services$Telephone$sendMail};UMP.Services.Telephone.registerClass("UMP.Services.Telephone");var $tel=new UMP.Services.Telephone();Type.registerNamespace("UMP.Services");UMP.Services.Sqlite=function UMP$Services$Sqlite(){this._OPENDB="um_OpenDB";this._DELETEDB="um_DeleteDB";this._EXECSQL="um_ExecSql";this._QUERYALL="um_QueryAll";this._QUERY="um_Query";this._QUERYBYPAGENO="um_QueryByPageNo";this._QUERYRECORDCOUNT="um_QueryRecordCount";this._QUERYPAGECOUNT="um_QueryPageCount";this._RECORDSTOCTX="um_RecordsToCtx";this._CTXTOSQLITE="um_CtxToSqlite";this._DOWNLOADDB="um_DownloadDB";this._UPLOADDB="um_UploadDB"};function UMP$Services$Sqlite$openDB(a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._OPENDB,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.openDB","{dbfile:'"+a+"'}")}}}function UMP$Services$Sqlite$delDB(a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._DELETEDB,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.deleteDB","{dbfile:'"+a+"'}")}}}function UMP$Services$Sqlite$execSql(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._EXECSQL,a,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.execSql","{dbfile:'"+a+"',sql:'"+b+"'}")}}}function UMP$Services$Sqlite$queryAll(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._QUERYALL,a,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.queryAll","{dbfile:'"+a+"',sql:'"+b+"'}")}}}function UMP$Services$Sqlite$query(b,c,a,d){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._QUERYALL,b,c,a,d)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.query","{dbfile:'"+b+"',sql:'"+c+"',pageSize:'"+a+"',start:'"+d+"'}")}}}function UMP$Services$Sqlite$queryByPageNo(c,d,b,e,a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._QUERYBYPAGENO,c,d,b,e,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.queryByPageNo","{dbfile:'"+c+"',sql:'"+d+"',pageSize:'"+b+"',start:'"+e+"',pageNo:'"+a+"'}")}}}function UMP$Services$Sqlite$queryRecordCount(a,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._QUERYRECORDCOUNT,a,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.queryRecordCount","{dbfile:'"+a+"',sql:'"+b+"'}")}}}function UMP$Services$Sqlite$queryPageCount(b,c,a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._QUERYPAGECOUNT,b,c,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.queryPageCount","{dbfile:'"+b+"',sql:'"+c+"',pageSize:'"+a+"'}")}}}function UMP$Services$Sqlite$recordsToCtx(b,c,a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._RECORDSTOCTX,b,c,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.recordsToCtx","{dbfile:'"+b+"',sql:'"+c+"',ctxName:'"+a+"'}")}}}function UMP$Services$Sqlite$ctxToSqlite(c,b,a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){var d=$jsonToString(a);UM_callNativeService(this._CTXTOSQLITE,b,d)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){var d=$jsonToString(a);$service.call("UMSQLite.recordsToCtx","{dbfile:'"+c+"',tableName:'"+b+"',ctx:'"+d+"'}")}}}function UMP$Services$Sqlite$downloadDB(a){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._DOWNLOADDB,a)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.downloadDB","{fileName:'"+a+"'}")}}}function UMP$Services$Sqlite$uploadDB(a,c,b){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){UM_callNativeService(this._UPLOADDB,c,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){$service.call("UMSQLite.uploadDB","{dbfile:'"+a+"',fileName:'"+c+"',isOnlyModified:'"+b+"'}")}}}UMP.Services.Sqlite.prototype={openDB:UMP$Services$Sqlite$openDB,delDB:UMP$Services$Sqlite$delDB,execSql:UMP$Services$Sqlite$execSql,queryAll:UMP$Services$Sqlite$queryAll,query:UMP$Services$Sqlite$query,queryByPageNo:UMP$Services$Sqlite$queryByPageNo,queryRecordCount:UMP$Services$Sqlite$queryRecordCount,queryPageCount:UMP$Services$Sqlite$queryPageCount,recordsToCtx:UMP$Services$Sqlite$recordsToCtx,ctxToSqlite:UMP$Services$Sqlite$ctxToSqlite,downloadDB:UMP$Services$Sqlite$downloadDB,uploadDB:UMP$Services$Sqlite$uploadDB};UMP.Services.Sqlite.registerClass("UMP.Services.Sqlite");var $sqlite=new UMP.Services.Sqlite();Type.registerNamespace("UMP.Services");UMP.Services.Calendar=function UMP$Services$Calendar(){this._getToToday="UMCalendar.getToToday";this._getMonthChange="UMCalendar.getMonthChange";this._getDayChange="UMCalendar.getDayChange";this._getCalendarTitle="UMCalendar.getCalendarTitle"};function UMP$Services$Calendar$getToToday(c){var a={};a.id=c;var b=$jsonToString(a);return $service.call(this._getToToday,b)}function UMP$Services$Calendar$getMonthChange(i,h,d,e,f,b,c){var g={};g.viewid=i;g.action=h;g.params=d;g.isDataCollect=e;g.callback=f;g.contextmapping=b;if(c){for(key in c){g[key]=c[key]}}var a=$jsonToString(g);return $service.call(this._getMonthChange,a)}function UMP$Services$Calendar$getDayChange(i,h,d,e,f,b,c){var g={};g.viewid=i;g.action=h;g.params=d;g.isDataCollect=e;g.callback=f;g.contextmapping=b;if(c){for(key in c){g[key]=c[key]}}var a=$jsonToString(g);return $service.call(this._getDayChange,a)}function UMP$Services$Calendar$getCalendarTitle(c){var a={};a.id=c;var b=$jsonToString(a);return $service.call(this._getCalendarTitle,b)}UMP.Services.Calendar.prototype={getToToday:UMP$Services$Calendar$getToToday,getMonthChange:UMP$Services$Calendar$getMonthChange,getDayChange:UMP$Services$Calendar$getDayChange,getCalendarTitle:UMP$Services$Calendar$getCalendarTitle};UMP.Services.Calendar.registerClass("UMP.Services.Calendar");var $calendar=new UMP.Services.Calendar();UMP.Services.File=function UMP$Services$File(){this._downloadFile="UMService.downloadFile"};function UMP$Services$File$downloadFile(b,i,a,f,j,h,g,d){var e={};e.fileid=b;e.downloadpath=i;e.filename=a;e.filetype=f;e.filesize=j;e.downflag=h;e.startposition=g;e.endposition=d;var c=$jsonToString(e);return $service.call(this._downloadFile,c)}UMP.Services.File.prototype={downloadFile:UMP$Services$File$downloadFile};UMP.Services.File.registerClass("UMP.Services.File");var $file=new UMP.Services.File();Type.registerNamespace("UMP.UI.Container");UMP.UI.Container.Context=function(){this._UMCtx_setUMContext="UMCtx.setUMContext";this._UMCtx_dataBind="UMCtx.dataBind";this._UMCtx_getValue="UMCtx.getValue";this._UMCtx_setValue="UMCtx.setValue";this._UMCtx_setAppValue="UMCtx.setAppValue"};function UMP$UI$Container$Context$push(a){this.setContext(a)}function UMP$UI$Container$Context$dataBind(){$service.call(this._UMCtx_dataBind,{},false)}function UMP$UI$Container$Context$setContext(a,b){var d={};if(a.__baseClass=="UMP.UI.Mvc.Context"){try{d=a.unload()}catch(g){var f="尝试setContext，但是参数ctx不是一个有效的Context类型";$console.log(f);alert(f+",更多请查看console日志")}}else{if(typeof a=="object"){d=a}else{if(typeof a=="string"){d=a}}}var h=$jsonToString(d);var c={};c.context=h;c.isDataBinding=false;$service.call(this._UMCtx_setUMContext,c,true);if(typeof b=="undefined"||b==true){$service.call(this._UMCtx_dataBind,{},false)}}function UMP$UI$Container$Context$getValue(e,c,d){if(typeof d=="undefined"){d=true}var a={};a.expr=e;a["default"]=c;var b=$jsonToString(a);return $service.call(this._UMCtx_getValue,b,d)}function UMP$UI$Container$Context$setValue(d,c,b){if(typeof b=="undefined"){b=true}var a={};a.expr=d;a.value=$jsonToString(c);return $service.call(this._UMCtx_setValue,a,b)}function UMP$UI$Container$Context$set(c,b,a){this.setValue(c,b,a)}function UMP$UI$Container$Context$put(c,b,a){this.setValue(c,b,a)}function UMP$UI$Container$Context$get(d,a,b){var c="#{"+d+"}";return this.getValue(c,a,b)}function UMP$UI$Container$Context$getJSONArray(b){var a="#{"+b+"}";return this.getValue(a,defaultvalue,isSync)}function UMP$UI$Container$Context$param(d,a,b){var c="#{plug."+d+"}";return this.getValue(c,a,b)}function UMP$UI$Container$Context$getApp(a,b,c){var d="#{app."+a+"}";return this.getValue(d,b,c)}function UMP$UI$Container$Context$setApp(b,d){if(typeof d=="undefined"){d=true}var a=b;var c=$jsonToString(a);return $service.call(this._UMCtx_setAppValue,c,d)}UMP.UI.Container.Context.prototype={push:UMP$UI$Container$Context$push,setContext:UMP$UI$Container$Context$setContext,dataBind:UMP$UI$Container$Context$dataBind,get:UMP$UI$Container$Context$get,set:UMP$UI$Container$Context$set,put:UMP$UI$Container$Context$put,getJSONArray:UMP$UI$Container$Context$getJSONArray,getValue:UMP$UI$Container$Context$getValue,setValue:UMP$UI$Container$Context$setValue,param:UMP$UI$Container$Context$param,getApp:UMP$UI$Container$Context$getApp,setApp:UMP$UI$Container$Context$setApp};UMP.UI.Container.Context.registerClass("UMP.UI.Container.Context");var $ctx=new UMP.UI.Container.Context();UM_Context=$ctx;Type.registerNamespace("UMP.Services");UMP.Services.Cache=function UMP$Services$Cache(){this._store="um_Store";this._restore="um_Restore"};var ___cache_UIState={};function UMP$Services$Cache$get(d){if($environment.DeviceType==$environment.DeviceIOS){return $service.reStore()}else{if($environment.DeviceType==$environment.DeviceAndroid){var a={};if(d){a.charset=d}var c=$jsonToString(a);var b=UM_NativeCall.callService("UMFile.read",c,true);return b}}}function UMP$Services$Cache$set(c,a,f,d){if($environment.DeviceType==$environment.DeviceIOS){alert("Cache API [push] no implementation...pls consult the IOS developer of UMP")}else{if($environment.DeviceType==$environment.DeviceAndroid){var b={};if(c){b.content=c}if(a){b.append=a}if(f){b.charset=f}var e=$jsonToString(b);if(typeof d=="undefined"){return UM_NativeCall.callService("UMFile.write",e,true)}else{return UM_NativeCall.callService("UMFile.write",e,d)}}}}function UMP$Services$Cache$write2(d,f,a,h,e){if($environment.DeviceType==$environment.DeviceIOS){var g=f;if(typeof f!="string"){g=$jsonToString(f)}UM_callNativeService(this._store,d,g)}else{if($environment.DeviceType==$environment.DeviceAndroid){var c={};var b=$cache.get();if(!b){b={}}b[d]=f;c.content=b;if(a){c.append=a}if(h){c.charset=h}var g=$jsonToString(c);if(typeof e=="undefined"){return UM_NativeCall.callService("UMFile.write",g,true)}else{return UM_NativeCall.callService("UMFile.write",g,e)}}}}function UMP$Services$Cache$read2(j,a,c){var b="";if($environment.DeviceType==$environment.DeviceIOS){b=UM_callNativeService(this._restore,j)}else{if($environment.DeviceType==$environment.DeviceAndroid){var g={};var h={};if(a){h.maxlength=a}if(c){h.charset=c}var i=$jsonToString(h);b=UM_NativeCall.callService("UMFile.read",i,true)}}if(b&&b!=""){try{var d=$stringToJSON(b);return d[j]}catch(f){return null}}else{return null}}function UMP$Services$Cache$writeFile(c,d,a,g,e){if($environment.DeviceType==$environment.DeviceIOS){var f=d;if(typeof d!="string"){f=$jsonToString(d)}return UM_callNativeService(this._store,c,f)}else{if($environment.DeviceType==$environment.DeviceAndroid){var b={};if(c){b.path=c}if(d){b.content=d}if(a){b.append=a}if(g){b.charset=g}var f=$jsonToString(b);if(typeof e=="undefined"){return UM_NativeCall.callService("UMFile.write",f,true)}else{return UM_NativeCall.callService("UMFile.write",f,e)}}}}function UMP$Services$Cache$readFile(c,b,h){var f="";if($environment.DeviceType==$environment.DeviceIOS){f=UM_callNativeService(this._restore,c)}else{if($environment.DeviceType==$environment.DeviceAndroid){var a={};if(c){a.path=c}if(b){a.maxlength=b}if(h){a.charset=h}var g=$jsonToString(a);f=UM_NativeCall.callService("UMFile.read",g,true)}}if(f&&f!=""){try{return f}catch(d){return f}}else{return null}}UMP.Services.Cache.prototype={get:UMP$Services$Cache$get,set:UMP$Services$Cache$set,push:UMP$Services$Cache$set,write2:UMP$Services$Cache$write2,read2:UMP$Services$Cache$read2,write:UMP$Services$Cache$writeFile,read:UMP$Services$Cache$readFile,writeFile:UMP$Services$Cache$writeFile,readFile:UMP$Services$Cache$readFile};UMP.Services.Cache.registerClass("UMP.Services.Cache");$cache=new UMP.Services.Cache();$store=$cache;if(typeof __debugger=="undefined"){__debugger=false}UMP.Services.Console=function UMP$Services$Console(){};function UMP$Services$Console$log(a){if(__debugger){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){}else{if(console){console.log("__________"+a)}}}}function UMP$Services$Console$alert(a){if(__debugger){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){}else{alert(a)}}}UMP.Services.Console.prototype={log:UMP$Services$Console$log,alert:UMP$Services$Console$alert};UMP.Services.Console.registerClass("UMP.Services.Console");$console=new UMP.Services.Console();Type.registerNamespace("UMP.Services");UMP.Services.Resource=function UMP$Services$Resource(){this._getResString="um_getResString"};function UMP$Services$Resource$getResString(b,a){if(typeof a=="undefined"){a=true}var c="";if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){c=UM_callNativeService(this._getResString,b)}else{if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid){c=$service.call("UMService.getResString","{resname:'"+b+"'}",a)}}return c}UMP.Services.Resource.prototype={getResString:UMP$Services$Resource$getResString};UMP.Services.Resource.registerClass("UMP.Services.Resource");$res=new UMP.Services.Resource();UMP.Services.UMView=function UMP$Services$UMView(){};function UMP$Services$UMView$open(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.open",b)}}function UMP$Services$UMView$close(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.close",b)}}function UMP$Services$UMView$openPop(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.openPop",b)}}function UMP$Services$UMView$closePop(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.closePop",b)}}function UMP$Services$UMView$openDialog(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.openDialog",b)}}function UMP$Services$UMView$openReference(a){if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.openReference",b)}}function UMP$Services$UMView$openPicker(a){var c={pickercount:"1",datasource:"fieldA",title:"",okbuttontitle:"确定",cancelbuttontitle:"取消",picker1binder:"fieldA",picker2binder:"fieldB",picker3binder:"fieldC",okaction:"okAction",cancelaction:"cancelAction",onselectedchange1:"action1",onselectedchange2:"action2",onselectedchange3:"action3"};if(a){var b=$jsonToString(a);UM_NativeCall.callService("UMView.openPicker",b)}}function UMP$Services$UMView$alert(b){var a={title:"确认",style:"ok",message:b};this.openDialog(a)}function UMP$Services$UMView$confirm(b){var a={title:"确认",style:"ok-cancel",message:b};this.openDialog(a)}UMP.Services.UMView.prototype={open:UMP$Services$UMView$open,openPop:UMP$Services$UMView$openPop,closePop:UMP$Services$UMView$closePop,openDialog:UMP$Services$UMView$openDialog,openReference:UMP$Services$UMView$openReference,openPicker:UMP$Services$UMView$openPicker,alert:UMP$Services$UMView$alert,confirm:UMP$Services$UMView$confirm};UMP.Services.UMView.registerClass("UMP.Services.UMView");var $umview=new UMP.Services.UMView();UMP.Services.UMDevice=function UMP$Services$UMDevice(){this._UMDevice_getDeviceInfo="UMDevice.getDeviceInfo"};function UMP$Services$UMDevice$getTimeZoneID(){return UM_NativeCall.callService("UMDevice.getTimeZoneID","",true)}function UMP$Services$UMDevice$getTimeZoneDisplayName(){return UM_NativeCall.callService("UMDevice.getTimeZoneDisplayName","",true)}function UMP$Services$UMDevice$getDeviceInfo(b){var a="";if(b){var a=$service.call(this._UMDevice_getDeviceInfo,$jsonToString(b),false)}else{var a=$service.call(this._UMDevice_getDeviceInfo,"",true)}return a}UMP.Services.UMDevice.prototype={getTimeZoneID:UMP$Services$UMDevice$getTimeZoneID,getTimeZoneDisplayName:UMP$Services$UMDevice$getTimeZoneDisplayName,getDeviceInfo:UMP$Services$UMDevice$getDeviceInfo};UMP.Services.UMDevice.registerClass("UMP.Services.UMDevice");var $umdevice=new UMP.Services.UMDevice();function $UMP$eval(code){if(!code){return}var srcCode="(function() {\n"+code+"}) ();";eval(code)}Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Property=function UMP$UI$Mvc$Property(){this._tag="field";this._attrs={};this._events={}};function UMP$UI$Mvc$Property$tag(){return this._tag}function UMP$UI$Mvc$Property$attrs(){return this._attrs}function UMP$UI$Mvc$Property$attr(a,b){if(typeof b==="undefined"){return this.attrs()[a]}else{this.attrs()[a]=b}}function UMP$UI$Mvc$Property$id(a){if(typeof a==="undefined"){return this.attr("id")}else{this.attr("id",a)}}function UMP$UI$Mvc$Property$type(a){if(typeof a==="undefined"){return this.attr("type")}else{this.attr("type",a)}}function UMP$UI$Mvc$Property$attachEvent(a,b){this._events[a].push(b)}function UMP$UI$Mvc$Property$detachEvent(c,f){var b=this._events[c];if(!b){return}var d=-1;for(var e=0,a=b.length;e<a;e++){if(b[e]==f){d=e;break}}if(d>=0){var g=b.splice(d,1);return g}else{alert("没有这样的handler:"+f.toString())}}function UMP$UI$Mvc$Property$fireEvent(c){var b=this._events[c];for(var e=0,a=b.length;e<a;e++){var f=b[e];var d={eventName:c,fieldName:this.id()};f(this,args)}}UMP.UI.Mvc.Property.prototype={tag:UMP$UI$Mvc$Property$tag,attrs:UMP$UI$Mvc$Property$attrs,attr:UMP$UI$Mvc$Property$attr,id:UMP$UI$Mvc$Property$id,type:UMP$UI$Mvc$Property$type};UMP.UI.Mvc.Property.registerClass("UMP.UI.Mvc.Property");Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Entity=function UMP$UI$Mvc$Entity(a,b){this._tag=a;this._namespace=b;this._attrs={};this._fields={};this._events={}};function UMP$UI$Mvc$Entity$tag(){return this._tag}function UMP$UI$Mvc$Entity$namespace(a){if(a==undefined){return this._namespace}else{this._namespace=a}}function UMP$UI$Mvc$Entity$attrs(){return this._attrs}function UMP$UI$Mvc$Entity$attr(a,b){if(b==undefined){return this.attrs()[a]}else{this.attrs()[a]=b}}function UMP$UI$Mvc$Entity$id(a){if(a==undefined){return this.attr("id")}else{this.attr("id",a)}}function UMP$UI$Mvc$Entity$properties(){return this._fields}function UMP$UI$Mvc$Entity$property(a){return this.properties()[a]}function UMP$UI$Mvc$Entity$addProperty(a){this.properties()[a.id()]=a}function UMP$UI$Mvc$Entity$removeProperty(a){delete this.properties()[a]}function UMP$UI$Mvc$Entity$add_onchange(a){this._changeEvents[this._changeEvents.length]=a}function UMP$UI$Mvc$Entity$remove_onchange(a){delete this._changeEvents[this._changeEvents.length]}function UMP$UI$Mvc$Entity$raiseonchange(b){var d=this._changeEvents;for(var c=0,a=d.length;c<a;c++){var e=d[c];e(this,b)}}function UMP$UI$Mvc$Entity$attachEvent(a,c,b){if(!this._events[a]){this._events[a]={}}if(!this._events[a][c]){this._events[a][c]=[]}this._events[a][c].push(b)}function UMP$UI$Mvc$Entity$detachEvent(c,h,f){if(!this._events[c]){return}var b=this._events[c][h];if(!b){return}var d=-1;for(var e=0,a=b.length;e<a;e++){if(b[e]==f){d=e;break}}if(d>=0){var g=b.splice(d,1);return g}else{alert("没有这样的handler:"+f.toString())}}function UMP$UI$Mvc$Entity$fireEvent(c,g,d){if(this._events[c]){var b=this._events[c][g];if(b){for(var e=0,a=b.length;e<a;e++){var f=b[e];if(d==undefined){d={eventName:c,fieldName:g}}f(this,d)}}}}UMP.UI.Mvc.Entity.prototype={tag:UMP$UI$Mvc$Entity$tag,namespace:UMP$UI$Mvc$Entity$namespace,attrs:UMP$UI$Mvc$Entity$attrs,attr:UMP$UI$Mvc$Entity$attr,id:UMP$UI$Mvc$Entity$id,properties:UMP$UI$Mvc$Entity$properties,property:UMP$UI$Mvc$Entity$property,fields:UMP$UI$Mvc$Entity$properties,field:UMP$UI$Mvc$Entity$property,get:UMP$UI$Mvc$Entity$property,addProperty:UMP$UI$Mvc$Entity$addProperty,removeProperty:UMP$UI$Mvc$Entity$removeProperty,add_onchange:UMP$UI$Mvc$Entity$add_onchange,remove_onchange:UMP$UI$Mvc$Entity$remove_onchange,raiseonchange:UMP$UI$Mvc$Entity$raiseonchange,attachEvent:UMP$UI$Mvc$Entity$attachEvent,detachEvent:UMP$UI$Mvc$Entity$detachEvent,fireEvent:UMP$UI$Mvc$Entity$fireEvent};UMP.UI.Mvc.Entity.registerClass("UMP.UI.Mvc.Entity");UMP.UI.Mvc.Field=function UMP$UI$Mvc$Field(c,b,a){this.__property=a;this._id=null;this._value=b;this._events={};if(this.__property){this._id=this.__property.id()}this.__CONST_EVENT_ONCHANGE="onchange"};function UMP$UI$Mvc$Field$id(a){if(a==undefined){return this._id}else{this._id=a}}function UMP$UI$Mvc$Field$get(){return this._value}function UMP$UI$Mvc$Field$set(b){if(this._value==b){return}var a=this._value;this._value=b}function UMP$UI$Mvc$Field$val(a){if(a==undefined){return this.get()}else{this.set(a)}}function UMP$UI$Mvc$Field$raiseonchange(b){var d=this._changeEvents;for(var c=0,a=d.length;c<a;c++){var e=d[c];e(this,b)}}function UMP$UI$Mvc$Field$attachEvent(a,b){this._events[a].push(b)}function UMP$UI$Mvc$Field$detachEvent(c,f){var b=this._events[c];if(!b){return}var d=-1;for(var e=0,a=b.length;e<a;e++){if(b[e]==f){d=e;break}}if(d>=0){var g=b.splice(d,1);return g}else{alert("没有这样的handler:"+f.toString())}}function UMP$UI$Mvc$Field$fireEvent(c,d){var b=this._events[c];if(b){for(var e=0,a=b.length;e<a;e++){var f=b[e];f(this,d)}}}UMP.UI.Mvc.Field.prototype={id:UMP$UI$Mvc$Field$id,get:UMP$UI$Mvc$Field$get,set:UMP$UI$Mvc$Field$set,val:UMP$UI$Mvc$Field$val};UMP.UI.Mvc.Field.registerClass("UMP.UI.Mvc.Field");Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.ContextType=function(){};UMP.UI.Mvc.ContextType.prototype={Context:0,FieldSet1:1,FieldSetN:2};UMP.UI.Mvc.ContextType.registerEnum("UMP.UI.Mvc.ContextType");UMP.UI.Mvc.Context=function UMP$UI$Mvc$Context(c,a,b){this._id=c;this.__entity=a;this.__json=b;this.__baseClass="UMP.UI.Mvc.Context";if(a){if(a.tag().toLowerCase()=="context"){this._contextType=UMP.UI.Mvc.ContextType.Context}else{if(a.tag().toLowerCase()=="fieldset"){if(a.attr("relation")=="1"){this._contextType=UMP.UI.Mvc.ContextType.FieldSet1}else{if(a.attr("relation")&&a.attr("relation").toLowerCase()=="n"){this._contextType=UMP.UI.Mvc.ContextType.FieldSetN}else{$alert("UMP.UI.Mvc.Context的构造函数出错！暂不支持类型定义为"+a.tag()+"的fieldSet")}}}else{$alert("UMP.UI.Mvc.Context的构造函数出错！暂不支持类型定义为"+a.tag()+"的Context")}}}this._fields={};this._links={};this._rows=[];this._userDataKeys=[];this._events={};this.__CONST_EVENT_ONCHANGE="onchange";if(this.__entity){this._id=this.__entity.id()}this._disposed=false};function UMP$UI$Mvc$Context$entity(){return this.__entity}function UMP$UI$Mvc$Context$json(a){if(a==undefined){return this.__json}else{this.__json=a}}function UMP$UI$Mvc$Context$contextType(a){if(a==undefined){return this._contextType}else{this._contextType=a}}function UMP$UI$Mvc$Context$id(a){if(a==undefined){return this._id}else{this._id=a}}function UMP$UI$Mvc$Context$getFields(){return this._fields}function UMP$UI$Mvc$Context$field(a){return this._fields[a]}function UMP$UI$Mvc$Context$getlinks(){return this._links}function UMP$UI$Mvc$Context$has(a){if(this._fields[a]!=null){return true}return false}function UMP$UI$Mvc$Context$get(b,a){if(a==undefined){a=b;return this.__getFieldValue(a)}else{return this.__getRowFieldValue(b,a)}}function UMP$UI$Mvc$Context$__getFieldValue(g){var d=this._fields[g];if(d instanceof UMP.UI.Mvc.Field){return d.get()}if(d instanceof UMP.UI.Mvc.Context||d instanceof UMP.UI.Mvc.ContextTable){return d}var b=false;for(var c=0,a=this._userDataKeys.length;c<a;c++){var f=this._userDataKeys[c];if(g==f){b=true;break}}var e=null;if(b){e=this[g]}return e}function UMP$UI$Mvc$Context$__getRowFieldValue(e,d){var c=this.rows();if(e>=this.rows().length){$alert("试图取"+this.id()+"["+e+"]的字段["+d+"]值时，超出了数组的最大长度"+this.rows().length);return null}var a=c[e];var b=a.__getFieldValue(d);return b}function UMP$UI$Mvc$Context$set(c,b,a){if(a==undefined){this.__setFieldValue(c,b)}else{this.__setRowFieldValue(c,b,a)}}function UMP$UI$Mvc$Context$__setFieldValue(g,a,b){if(!this.has(g)){if(this.__entity){if(this.__entity.property(g)){var e=new UMP.UI.Mvc.Field(g,"",this.__entity.property(g));this.addField(g,e)}else{this.addUserData(g,a);return}}else{this.addUserData(g,a);return}}else{var f=this._fields[g];if(!(f instanceof UMP.UI.Mvc.Field)){this.addUserData(g,a);return}}var f=this._fields[g];var d=f.get();if(d==a){return}f.set(a);if(!b){var h=f.get();var c={context:this,fieldName:g,srcValue:a,oldValue:d,value:h};this.fireEvent(this.__CONST_EVENT_ONCHANGE,g,c)}}function UMP$UI$Mvc$Context$val(b,a){if(a==undefined){this.get(b)}else{this.set(b,a)}}function UMP$UI$Mvc$Context$__setRowFieldValue(h,f,b){if(h>=this.length()){throw new Error("设置的行索引超出了最大索引值[the rowIndex of the row yon set is "+h+", but the length of rows == "+this.length()+"]");return}var e=this._rows;var a=e[h];var d=a.get(f);if(d==b){return}a.__setFieldValue(f,b,true);var g=a.get(f);var c={context:this,rowIndex:h,fieldName:f,srcValue:b,oldValue:d,value:g};this.fireEvent(this.__CONST_EVENT_ONCHANGE,f,c)}function UMP$UI$Mvc$Context$setRow(f,d,a){var c=this.get(d);if(c==a){return}this.__setFieldValue(d,a,true);var e=this.get(d);var b={context:this,rowIndex:f,fieldName:d,srcValue:a,oldValue:c,value:e};this.fireEvent(this.__CONST_EVENT_ONCHANGE,d,b)}function UMP$UI$Mvc$Context$length(){if(this._rows){return this._rows.length}else{return 0}}function UMP$UI$Mvc$Context$rows(){return this._rows}function UMP$UI$Mvc$Context$row(a){return this._rows[a]}function UMP$UI$Mvc$Context$rowSelector(){return"ListViewSelector"}function UMP$UI$Mvc$Context$removeRow(a){this._rows.remove(a)}function UMP$UI$Mvc$Context$removeRow2(a){this._rows=this._rows.remove2(a)}function UMP$UI$Mvc$Context$addField(b,a){this._fields[b]=a}function UMP$UI$Mvc$Context$removeField(a){}function UMP$UI$Mvc$Context$addRow(b){var c=this.__entity.id();var a=new UMP.UI.Mvc.Context(c,this.__entity);_$um$CRUD$loadFieldSet(a,b,this.__entity);a.contextType(UMP.UI.Mvc.ContextType.FieldSet1);this._rows.push(a)}function UMP$UI$Mvc$Context$addJSON(b){alert("UMP.UI.Mvc.Context.addJSON方法已经废弃，请使用新插件重新build代码");var a=this.unload();var c=a[this.entity().id()];if(_$um$isArray(c)){c[c.length]=b;this.load(a)}else{alert(this.id()+"不是一个json的Array")}}function UMP$UI$Mvc$Context$getUserDataKeys(){return this._userDataKeys}function UMP$UI$Mvc$Context$addUserData(e,d){var b=false;for(var c=0,a=this._userDataKeys.length;c<a;c++){var f=this._userDataKeys[c];if(e==f){b=true;break}}if(!b){this._userDataKeys.push(e)}this[e]=d}function UMP$UI$Mvc$Context$addLink(b,a){this.addField(b,a)}function UMP$UI$Mvc$Context$removeLink(a){this._links[a]=null;delete this._links[a]}function UMP$UI$Mvc$Context$params(){return this["parameter"]}function UMP$UI$Mvc$Context$param(b){var a=this.params();if(a){return a[b]}else{return null}}function UMP$UI$Mvc$Context$load(b){if(_$um$isArray(b)){alert("UMP.UI.Mvc.Context.load方法参数接受JSON对象，不接受数组");return}var a=this.entity().tag().toLowerCase();if(a=="context"){return _$um$CRUD$load(this,b,this.__entity)}else{return _$um$CRUD$loadFieldSet1(this,b,this.__entity)}}function UMP$UI$Mvc$Context$reload(a){}function UMP$UI$Mvc$Context$unload(){var a=this.entity().tag().toLowerCase();if(a=="context"){return _$um$CRUD$Context2JSON(this)}else{return _$um$CRUD$FieldSet2JSON(this)}}function UMP$UI$Mvc$Context$empty(){this._fields={}}function UMP$UI$Mvc$Context$clear(){this._fields={}}function UMP$UI$Mvc$Context$dispose(){this._disposed=true}function UMP$UI$Mvc$Context$restore(){this._disposed=false}function UMP$UI$Mvc$Context$isDisposed(){return this._disposed}function UMP$UI$Mvc$Context$attachEvent(a,c,b){if(!this._events[a]){this._events[a]={}}if(!this._events[a][c]){this._events[a][c]=[]}this._events[a][c].push(b)}function UMP$UI$Mvc$Context$detachEvent(c,h,f){if(!this._events[c]){return}var b=this._events[c][h];if(!b){return}var d=-1;for(var e=0,a=b.length;e<a;e++){if(b[e]==f){d=e;break}}if(d>=0){var g=b.splice(d,1);return g}else{alert("没有这样的handler:"+f.toString())}}function UMP$UI$Mvc$Context$fireEvent(a,c,b){this.__entity.fireEvent(a,c,b)}UMP.UI.Mvc.Context.prototype={entity:UMP$UI$Mvc$Context$entity,json:UMP$UI$Mvc$Context$json,contextType:UMP$UI$Mvc$Context$contextType,id:UMP$UI$Mvc$Context$id,getFields:UMP$UI$Mvc$Context$getFields,fields:UMP$UI$Mvc$Context$getFields,field:UMP$UI$Mvc$Context$field,get:UMP$UI$Mvc$Context$get,set:UMP$UI$Mvc$Context$set,val:UMP$UI$Mvc$Context$val,length:UMP$UI$Mvc$Context$length,rows:UMP$UI$Mvc$Context$rows,row:UMP$UI$Mvc$Context$row,rowSelector:UMP$UI$Mvc$Context$rowSelector,addRow:UMP$UI$Mvc$Context$addRow,addJSON:UMP$UI$Mvc$Context$addJSON,removeRow:UMP$UI$Mvc$Context$removeRow,removeRow2:UMP$UI$Mvc$Context$removeRow2,has:UMP$UI$Mvc$Context$has,addField:UMP$UI$Mvc$Context$addField,removeField:UMP$UI$Mvc$Context$removeField,getUserDataKeys:UMP$UI$Mvc$Context$getUserDataKeys,addUserData:UMP$UI$Mvc$Context$addUserData,addLink:UMP$UI$Mvc$Context$addLink,removeLink:UMP$UI$Mvc$Context$removeLink,__getFieldValue:UMP$UI$Mvc$Context$__getFieldValue,__setFieldValue:UMP$UI$Mvc$Context$__setFieldValue,__getRowFieldValue:UMP$UI$Mvc$Context$__getRowFieldValue,__setRowFieldValue:UMP$UI$Mvc$Context$__setRowFieldValue,params:UMP$UI$Mvc$Context$params,param:UMP$UI$Mvc$Context$param,load:UMP$UI$Mvc$Context$load,unload:UMP$UI$Mvc$Context$unload,clear:UMP$UI$Mvc$Context$clear,dispose:UMP$UI$Mvc$Context$dispose,isDisposed:UMP$UI$Mvc$Context$isDisposed,restore:UMP$UI$Mvc$Context$restore,fireEvent:UMP$UI$Mvc$Context$fireEvent};UMP.UI.Mvc.Context.registerClass("UMP.UI.Mvc.Context");UMP.UI.Mvc.ContextTable=function UMP$UI$Mvc$ContextTable(c,a,b){this._id=c;this.__entity=a;this._rows=[];this.__json=b;this.__baseClass="UMP.UI.Mvc.ContextTable"};function UMP$UI$Mvc$ContextTable$entity(){return this.__entity}function UMP$UI$Mvc$ContextTable$json(a){if(a==undefined){return this.__json}else{this.__json=a}}function UMP$UI$Mvc$ContextTable$id(a){if(a==undefined){return this._id}else{this._id=a}}function UMP$UI$Mvc$ContextTable$rows(){return this._rows}function UMP$UI$Mvc$ContextTable$row(a){return this._rows[a]}function UMP$UI$Mvc$ContextTable$get(b,c){var a=this._rows[b];return a.get(c)}function UMP$UI$Mvc$ContextTable$set(g,f,d){var a=this._rows[g];var c=a.get(f);if(c==d){return}a.__setFieldValue(f,d,true);var e=a.get(f);var b={eventSource:this,rowContext:a,rowIndex:g,fieldName:f,srcValue:d,oldValue:c,value:e};a.fireEvent(a.__CONST_EVENT_ONCHANGE,f,b)}function UMP$UI$Mvc$ContextTable$length(){return this._rows.length}function UMP$UI$Mvc$ContextTable$add(b){if(b instanceof UMP.UI.Mvc.Context){this._rows[this._rows.length]=b}else{if(!_$um$isArray(b)){var c=this.__entity.id();var a=new UMP.UI.Mvc.Context(c,this.__entity);_$um$CRUD$loadFieldSet1(a,b,this.__entity);this._rows.push(a)}}}function UMP$UI$Mvc$ContextTable$remove(a){return this._rows.remove(a)}function UMP$UI$Mvc$ContextTable$empty(){this._rows=[]}function UMP$UI$Mvc$ContextTable$clear(){this._rows=[]}function UMP$UI$Mvc$ContextTable$load(b,c){if(typeof c==="undefined"){if(_$um$isArray(b)){_$um$CRUD$loadFieldSetN(this,b,this.entity())}else{$alert("UMP.UI.Mvc.ContextTable.load()传入一个参数时，只接受数组，")}}else{if(b>=this._rows.length){alert("UMP.UI.Mvc.ContextTable.load()出错,"+this.entity().id()+"["+b+"]为超出了范围，当前数组的长度为"+this._rows.length);return}var a=this._rows[b];if(a){a.load(c)}else{alert("UMP.UI.Mvc.ContextTable.load()出错,"+this.entity().id()+"["+b+"]为undefined,应该是一个UMP.UI.Mvc.Context对象")}}}function UMP$UI$Mvc$ContextTable$unload(){var a=_$um$CRUD$Context2JSON(this);return a}UMP.UI.Mvc.ContextTable.prototype={id:UMP$UI$Mvc$ContextTable$id,entity:UMP$UI$Mvc$ContextTable$entity,json:UMP$UI$Mvc$ContextTable$json,length:UMP$UI$Mvc$ContextTable$length,rows:UMP$UI$Mvc$ContextTable$rows,row:UMP$UI$Mvc$ContextTable$row,get:UMP$UI$Mvc$ContextTable$get,set:UMP$UI$Mvc$ContextTable$set,add:UMP$UI$Mvc$ContextTable$add,addRow:UMP$UI$Mvc$ContextTable$add,remove:UMP$UI$Mvc$ContextTable$remove,clear:UMP$UI$Mvc$ContextTable$clear,load:UMP$UI$Mvc$ContextTable$load,unload:UMP$UI$Mvc$ContextTable$unload};UMP.UI.Mvc.ContextTable.registerClass("UMP.UI.Mvc.ContextTable");Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Document=function UMP$UI$Mvc$Document(){this._tree={}};function UMP$UI$Mvc$Document$initialize(){this._tree={}}function UMP$UI$Mvc$Document$getElementById(b){if(!this._tree[b]){var a=this.createAbsElement();a.id(b);this._tree[b]=a}return this._tree[b]}function UMP$UI$Mvc$Document$getElementsByTagName(){}function UMP$UI$Mvc$Document$createAttribute(a){}function UMP$UI$Mvc$Document$createElement(){}function UMP$UI$Mvc$Document$createTextNode(){}function UMP$UI$Mvc$Document$getChilds(){return this._tree}function UMP$UI$Mvc$Document$appendChild(){}function UMP$UI$Mvc$Document$removeChild(){}function UMP$UI$Mvc$Document$replaceChild(b,a){if(this._tree[a.id()]){delete this._tree[a.id()];this._tree[b.id()]=b}}function UMP$UI$Mvc$Document$insertBefore(){}function UMP$UI$Mvc$Document$createAbsElement(a){var b=new UMP.UI.Mvc.Element(a);b.isAbs(true);return b}function UMP$UI$Mvc$Document$parseType(c,b){var d=new b();if(c.isAbs()==true){for(var a in c.attrs()){d.attr(a,c.attr(a))}$document.replaceChild(d,c);c=d;return c}return c}function UMP$UI$Mvc$Document$SetNative(a,b,c){$controls.set(a,b,c)}function UMP$UI$Mvc$Document$clear(){$document=new UMP.UI.Mvc.Document()}function UMP$UI$Mvc$Document$dataToJSON(){var a={};for(var d in this.getChilds()){var b={};var c=$document.getElementById(d);b.attributes=c.attrs();a[d]=b}return $jsonToString(a)}function UMP$UI$Mvc$Document$dataToString(){return $jsonToString(this.dataToJSON())}UMP.UI.Mvc.Document.prototype={initialize:UMP$UI$Mvc$Document$initialize,getElementById:UMP$UI$Mvc$Document$getElementById,getElementsByTagName:UMP$UI$Mvc$Document$getElementsByTagName,createAttribute:UMP$UI$Mvc$Document$createAttribute,createElement:UMP$UI$Mvc$Document$createElement,createTextNode:UMP$UI$Mvc$Document$createTextNode,getChilds:UMP$UI$Mvc$Document$getChilds,appendChild:UMP$UI$Mvc$Document$appendChild,removeChild:UMP$UI$Mvc$Document$removeChild,replaceChild:UMP$UI$Mvc$Document$replaceChild,insertBefore:UMP$UI$Mvc$Document$insertBefore,createAbsElement:UMP$UI$Mvc$Document$createAbsElement,parseType:UMP$UI$Mvc$Document$parseType,SetNative:UMP$UI$Mvc$Document$SetNative,clear:UMP$UI$Mvc$Document$clear,dataToJSON:UMP$UI$Mvc$Document$dataToJSON,dataToString:UMP$UI$Mvc$Document$dataToString};UMP.UI.Mvc.Document.registerClass("UMP.UI.Mvc.Document");$document=new UMP.UI.Mvc.Document();$id=$document.getElementById;_$um$getDocumentData=function(){var a={};for(var d in $document.getChilds()){var b={};var c=$document.getElementById(d);b.attributes=c.attrs();a[d]=b}return $jsonToString(a)};Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Element=function UMP$UI$Mvc$Element(a){this._isAbs=true;this._tag=a;this._attrs={};this._absAttrs={};this._events={}};function UMP$UI$Mvc$Element$createAttribute(){return this._tag}function UMP$UI$Mvc$Element$getAttribute(c){if(!c){return null}if(this._isAbs){if(this._absAttrs.hasOwnProperty(c)){return this._absAttrs[c]}else{var b={};b.id=this.id();b.propertyName=c;var d=$jsonToString(b);var a=$service.callService("UMJS.getProperty",d,true);this.setAttribute(c,a);return a}}else{return this._attrs[c]}}function UMP$UI$Mvc$Element$setAttribute(a,b){if(this._isAbs){this._absAttrs[a]=b}else{this._attrs[a]=b}}function UMP$UI$Mvc$Element$isAbs(a){if(typeof a=="undefined"){return this._isAbs}else{this._isAbs=a}}function UMP$UI$Mvc$Element$tag(a){if(typeof a=="undefined"){return this._tag}else{this._tag=a}}function UMP$UI$Mvc$Element$id(a){if(typeof a=="undefined"){return this.attr("id")}else{this.attr("id",a)}}function UMP$UI$Mvc$Element$attrs(){if(this._isAbs){return this._absAttrs}else{return this._attrs}}function UMP$UI$Mvc$Element$attr(a,b){if(typeof b==="undefined"){return this.getAttribute(a)}else{this.setAttribute(a,b)}}function UMP$UI$Mvc$Element$get_visible(){return this.attr("visible")}function UMP$UI$Mvc$Element$set_visible(a){this.attr("visible",a)}function UMP$UI$Mvc$Element$get_disabled(){return this.attr("disabled")}function UMP$UI$Mvc$Element$set_disabled(a){this.attr("disabled",a)}function UMP$UI$Mvc$Element$get_background(){return this.attr("background")}function UMP$UI$Mvc$Element$set_background(a){this.attr("background",a)}function UMP$UI$Mvc$Element$background(a){if(typeof a==="undefined"){return this.get_background()}else{this.set_background(a)}}UMP.UI.Mvc.Element.prototype={createAttribute:UMP$UI$Mvc$Element$createAttribute,getAttribute:UMP$UI$Mvc$Element$getAttribute,setAttribute:UMP$UI$Mvc$Element$setAttribute,isAbs:UMP$UI$Mvc$Element$isAbs,tag:UMP$UI$Mvc$Element$tag,id:UMP$UI$Mvc$Element$id,attrs:UMP$UI$Mvc$Element$attrs,attr:UMP$UI$Mvc$Element$attr};UMP.UI.Mvc.Element.registerClass("UMP.UI.Mvc.Element");Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.JControlBase=function UMP$UI$Mvc$JControlBase(){UMP.UI.Mvc.JControlBase.initializeBase(this,[]);this._isAbs=true;this._tag="";this._attrs={};this._absAttrs={};this._events={}};function UMP$UI$Mvc$JControlBase$parseType(d,b){var c=new b();if(d.isAbs()==true){for(var a in d.attrs()){c.attr(a,d.attr(a))}$document.replaceChild(c,d);d=c;return d}return d}function UMP$UI$Mvc$JControlBase$get_visible(){return this.attr("visible")}function UMP$UI$Mvc$JControlBase$set_visible(a){this.attr("visible",a)}function UMP$UI$Mvc$JControlBase$get_disabled(){return this.attr("disabled")}function UMP$UI$Mvc$JControlBase$set_disabled(a){this.attr("disabled",a)}function UMP$UI$Mvc$JControlBase$get_background(){return this.attr("background")}function UMP$UI$Mvc$JControlBase$set_background(a){this.attr("background",a)}function UMP$UI$Mvc$JControlBase$background(a){if(typeof a==="undefined"){return this.get_background()}else{this.set_background(a)}}function UMP$UI$Mvc$JControlBase$get_backgroundImage(){return this.attr("backgroundImage")}function UMP$UI$Mvc$JControlBase$set_backgroundImage(a){this.attr("backgroundImage",a)}function UMP$UI$Mvc$JControlBase$backgroundImage(a){if(typeof a==="undefined"){return this.get_backgroundImage()}else{this.set_backgroundImage(a)}}function UMP$UI$Mvc$JControlBase$get_width(){return this.attr("width")}function UMP$UI$Mvc$JControlBase$set_width(a){this.attr("width",a)}function UMP$UI$Mvc$JControlBase$width(a){if(typeof a==="undefined"){return this.get_width()}else{this.set_width(a)}}function UMP$UI$Mvc$JControlBase$get_height(){return this.attr("height")}function UMP$UI$Mvc$JControlBase$set_height(a){this.attr("height",a)}function UMP$UI$Mvc$JControlBase$height(a){if(typeof a==="undefined"){return this.get_height()}else{this.set_height(a)}}function UMP$UI$Mvc$JControlBase$get_layout(){return this.attr("layout")}function UMP$UI$Mvc$JControlBase$set_layout(a){this.attr("layout",a)}function UMP$UI$Mvc$JControlBase$layout(a){if(typeof a==="undefined"){return this.get_layout()}else{this.set_layout(a)}}function UMP$UI$Mvc$JControlBase$get_weight(){return this.attr("weight")}function UMP$UI$Mvc$JControlBase$set_weight(a){this.attr("weight",a)}function UMP$UI$Mvc$JControlBase$weight(a){if(typeof a==="undefined"){return this.get_weight()}else{this.set_weight(a)}}function UMP$UI$Mvc$JControlBase$get_halign(){return this.attr("halign")}function UMP$UI$Mvc$JControlBase$set_halign(a){this.attr("halign",a)}function UMP$UI$Mvc$JControlBase$halign(a){if(typeof a==="undefined"){return this.get_halign()}else{this.set_halign(a)}}function UMP$UI$Mvc$JControlBase$get_valign(){return this.attr("valign")}function UMP$UI$Mvc$JControlBase$set_valign(a){this.attr("valign",a)}function UMP$UI$Mvc$JControlBase$valign(a){if(typeof a==="undefined"){return this.get_valign()}else{this.set_valign(a)}}function UMP$UI$Mvc$JControlBase$get_paddingTop(){return this.attr("paddingTop")}function UMP$UI$Mvc$JControlBase$set_paddingTop(a){this.attr("paddingTop",a)}function UMP$UI$Mvc$JControlBase$paddingTop(a){if(typeof a==="undefined"){return this.get_paddingTop()}else{this.set_paddingTop(a)}}function UMP$UI$Mvc$JControlBase$get_paddingBottom(){return this.attr("paddingBottom")}function UMP$UI$Mvc$JControlBase$set_paddingBottom(a){this.attr("paddingBottom",a)}function UMP$UI$Mvc$JControlBase$paddingBottom(a){if(typeof a==="undefined"){return this.get_paddingBottom()}else{this.set_paddingBottom(a)}}function UMP$UI$Mvc$JControlBase$get_paddingLeft(){return this.attr("paddingLeft")}function UMP$UI$Mvc$JControlBase$set_paddingLeft(a){this.attr("paddingLeft",a)}function UMP$UI$Mvc$JControlBase$paddingLeft(a){if(typeof a==="undefined"){return this.get_paddingLeft()}else{this.set_paddingLeft(a)}}function UMP$UI$Mvc$JControlBase$get_paddingRight(){return this.attr("paddingRight")}function UMP$UI$Mvc$JControlBase$set_paddingRight(a){this.attr("paddingRight",a)}function UMP$UI$Mvc$JControlBase$paddingRight(a){if(typeof a==="undefined"){return this.get_paddingRight()}else{this.set_paddingRight(a)}}function UMP$UI$Mvc$JControlBase$get_marginTop(){return this.attr("marginTop")}function UMP$UI$Mvc$JControlBase$set_marginTop(a){this.attr("marginTop",a)}function UMP$UI$Mvc$JControlBase$marginTop(a){if(typeof a==="undefined"){return this.get_marginTop()}else{this.set_marginTop(a)}}function UMP$UI$Mvc$JControlBase$get_marginBottom(){return this.attr("marginBottom")}function UMP$UI$Mvc$JControlBase$set_marginBottom(a){this.attr("marginBottom",a)}function UMP$UI$Mvc$JControlBase$marginBottom(a){if(typeof a==="undefined"){return this.get_marginBottom()}else{this.set_marginBottom(a)}}function UMP$UI$Mvc$JControlBase$get_marginLeft(){return this.attr("marginLeft")}function UMP$UI$Mvc$JControlBase$set_marginLeft(a){this.attr("marginLeft",a)}function UMP$UI$Mvc$JControlBase$marginLeft(a){if(typeof a==="undefined"){return this.get_marginLeft()}else{this.set_marginLeft(a)}}function UMP$UI$Mvc$JControlBase$get_marginRight(){return this.attr("marginRight")}function UMP$UI$Mvc$JControlBase$set_marginRight(a){this.attr("marginRight",a)}function UMP$UI$Mvc$JControlBase$marginRight(a){if(typeof a==="undefined"){return this.get_marginRight()}else{this.set_marginRight(a)}}function UMP$UI$Mvc$JControlBase$get_backgroundColorDis(){return this.attr("backgroundColorDis")}function UMP$UI$Mvc$JControlBase$set_backgroundColorDis(a){this.attr("backgroundColorDis",a)}function UMP$UI$Mvc$JControlBase$backgroundColorDis(a){if(typeof a==="undefined"){return this.get_backgroundColorDis()}else{this.set_backgroundColorDis(a)}}function UMP$UI$Mvc$JControlBase$get_backgroundImageDis(){return this.attr("backgroundImageDis")}function UMP$UI$Mvc$JControlBase$set_backgroundImageDis(a){this.attr("backgroundImageDis",a)}function UMP$UI$Mvc$JControlBase$backgroundImageDis(a){if(typeof a==="undefined"){return this.get_backgroundImageDis()}else{this.set_backgroundImageDis(a)}}function UMP$UI$Mvc$JControlBase$get_pressedImage(){return this.attr("pressedImage")}function UMP$UI$Mvc$JControlBase$set_pressedImage(a){this.attr("pressedImage",a)}function UMP$UI$Mvc$JControlBase$pressedImage(a){if(typeof a==="undefined"){return this.get_pressedImage()}else{this.set_pressedImage(a)}}function UMP$UI$Mvc$JControlBase$get_pressedColor(){return this.attr("pressedColor")}function UMP$UI$Mvc$JControlBase$set_pressedColor(a){this.attr("pressedColor",a)}function UMP$UI$Mvc$JControlBase$pressedColor(a){if(typeof a==="undefined"){return this.get_pressedColor()}else{this.set_pressedColor(a)}}function UMP$UI$Mvc$JControlBase$get_color(){return this.attr("color")}function UMP$UI$Mvc$JControlBase$set_color(a){this.attr("color",a)}function UMP$UI$Mvc$JControlBase$color(a){if(typeof a==="undefined"){return this.get_color()}else{this.set_color(a)}}function UMP$UI$Mvc$JControlBase$get_fontFamily(){return this.attr("fontFamily")}function UMP$UI$Mvc$JControlBase$set_fontFamily(a){this.attr("fontFamily",a)}function UMP$UI$Mvc$JControlBase$fontFamily(a){if(typeof a==="undefined"){return this.get_fontFamily()}else{this.set_fontFamily(a)}}function UMP$UI$Mvc$JControlBase$get_fontSize(){return this.attr("fontSize")}function UMP$UI$Mvc$JControlBase$set_fontSize(a){this.attr("fontSize",a)}function UMP$UI$Mvc$JControlBase$fontSize(a){if(typeof a==="undefined"){return this.get_fontSize()}else{this.set_fontSize(a)}}UMP.UI.Mvc.JControlBase.prototype={parseType:UMP$UI$Mvc$JControlBase$parseType,get_visible:UMP$UI$Mvc$JControlBase$get_visible,set_visible:UMP$UI$Mvc$JControlBase$set_visible,get_disabled:UMP$UI$Mvc$JControlBase$get_disabled,set_disabled:UMP$UI$Mvc$JControlBase$set_disabled,get_background:UMP$UI$Mvc$JControlBase$get_background,set_background:UMP$UI$Mvc$JControlBase$set_background,background:UMP$UI$Mvc$JControlBase$background,get_backgroundImage:UMP$UI$Mvc$JControlBase$get_backgroundImage,set_backgroundImage:UMP$UI$Mvc$JControlBase$set_backgroundImage,backgroundImage:UMP$UI$Mvc$JControlBase$backgroundImage,get_width:UMP$UI$Mvc$JControlBase$get_width,set_width:UMP$UI$Mvc$JControlBase$set_width,width:UMP$UI$Mvc$JControlBase$width,get_height:UMP$UI$Mvc$JControlBase$get_height,set_height:UMP$UI$Mvc$JControlBase$set_height,height:UMP$UI$Mvc$JControlBase$height,get_layout:UMP$UI$Mvc$JControlBase$get_layout,set_layout:UMP$UI$Mvc$JControlBase$set_layout,layout:UMP$UI$Mvc$JControlBase$layout,get_weight:UMP$UI$Mvc$JControlBase$get_weight,set_weight:UMP$UI$Mvc$JControlBase$set_weight,weight:UMP$UI$Mvc$JControlBase$weight,get_halign:UMP$UI$Mvc$JControlBase$get_halign,set_halign:UMP$UI$Mvc$JControlBase$set_halign,halign:UMP$UI$Mvc$JControlBase$halign,get_valign:UMP$UI$Mvc$JControlBase$get_valign,set_valign:UMP$UI$Mvc$JControlBase$set_valign,valign:UMP$UI$Mvc$JControlBase$valign,get_paddingTop:UMP$UI$Mvc$JControlBase$get_paddingTop,set_paddingTop:UMP$UI$Mvc$JControlBase$set_paddingTop,paddingTop:UMP$UI$Mvc$JControlBase$paddingTop,get_paddingBottom:UMP$UI$Mvc$JControlBase$get_paddingBottom,set_paddingBottom:UMP$UI$Mvc$JControlBase$set_paddingBottom,paddingBottom:UMP$UI$Mvc$JControlBase$paddingBottom,get_paddingLeft:UMP$UI$Mvc$JControlBase$get_paddingLeft,set_paddingLeft:UMP$UI$Mvc$JControlBase$set_paddingLeft,paddingLeft:UMP$UI$Mvc$JControlBase$paddingLeft,get_paddingRight:UMP$UI$Mvc$JControlBase$get_paddingRight,set_paddingRight:UMP$UI$Mvc$JControlBase$set_paddingRight,paddingRight:UMP$UI$Mvc$JControlBase$paddingRight,get_marginTop:UMP$UI$Mvc$JControlBase$get_marginTop,set_marginTop:UMP$UI$Mvc$JControlBase$set_marginTop,marginTop:UMP$UI$Mvc$JControlBase$marginTop,get_marginBottom:UMP$UI$Mvc$JControlBase$get_marginBottom,set_marginBottom:UMP$UI$Mvc$JControlBase$set_marginBottom,marginBottom:UMP$UI$Mvc$JControlBase$marginBottom,get_marginLeft:UMP$UI$Mvc$JControlBase$get_marginLeft,set_marginLeft:UMP$UI$Mvc$JControlBase$set_marginLeft,marginLeft:UMP$UI$Mvc$JControlBase$marginLeft,get_marginRight:UMP$UI$Mvc$JControlBase$get_marginRight,set_marginRight:UMP$UI$Mvc$JControlBase$set_marginRight,marginRight:UMP$UI$Mvc$JControlBase$marginRight,get_backgroundColorDis:UMP$UI$Mvc$JControlBase$get_backgroundColorDis,set_backgroundColorDis:UMP$UI$Mvc$JControlBase$set_backgroundColorDis,get_backgroundImageDis:UMP$UI$Mvc$JControlBase$get_backgroundImageDis,set_backgroundImageDis:UMP$UI$Mvc$JControlBase$set_backgroundImageDis,get_pressedImage:UMP$UI$Mvc$JControlBase$get_pressedImage,set_pressedImage:UMP$UI$Mvc$JControlBase$set_pressedImage,get_pressedColor:UMP$UI$Mvc$JControlBase$get_pressedColor,set_pressedColor:UMP$UI$Mvc$JControlBase$set_pressedColor,get_color:UMP$UI$Mvc$JControlBase$get_color,set_color:UMP$UI$Mvc$JControlBase$set_color,color:UMP$UI$Mvc$JControlBase$color,get_fontFamily:UMP$UI$Mvc$JControlBase$get_fontFamily,set_fontFamily:UMP$UI$Mvc$JControlBase$set_fontFamily,fontFamily:UMP$UI$Mvc$JControlBase$fontFamily,get_fontSize:UMP$UI$Mvc$JControlBase$get_fontSize,set_fontSize:UMP$UI$Mvc$JControlBase$set_fontSize,fontSize:UMP$UI$Mvc$JControlBase$fontSize};UMP.UI.Mvc.JControlBase.registerClass("UMP.UI.Mvc.JControlBase",UMP.UI.Mvc.Element);Type.registerNamespace("UMP.UI.JControl");UMP.UI.JControl.Label=function UMP$UI$JControl$Label(a){if(typeof ele=="undefined"){UMP.UI.JControl.Label.initializeBase(this,[])}else{ele=$document.parseType(ele,UMP.UI.JControl.Label);return ele}};UMP.UI.JControl.Label.prototype={get_text:function(){return this.attr("content")},set_text:function(a){this.attr("content",a)},get_bindfield:function(){this.attr("bindfield")},set_bindfield:function(a){this.attr("bindfield",a)}};UMP.UI.JControl.Label.registerClass("UMP.UI.JControl.Label",UMP.UI.Mvc.JControlBase);UMP.UI.JControl.Button=function UMP$UI$JControl$Button(a){if(typeof a=="undefined"){UMP.UI.JControl.Button.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.Button);return a}};UMP.UI.JControl.Button.prototype={get_text:function(){return this.attr("text")},set_text:function(a){this.attr("text",a)},get_onclick:function(){return this.attr("onclick")},set_onclick:function(a){this.attr("onclick",a)}};UMP.UI.JControl.Button.registerClass("UMP.UI.JControl.Button",UMP.UI.Mvc.JControlBase);UMP.UI.JControl.Input=function UMP$UI$JControl$Input(a){UMP.UI.JControl.Input.initializeBase(this,[]);this._bindfield=""};function UMP$UI$JControl$Input$get_value(){this.attr("value")}function UMP$UI$JControl$Input$set_value(a){return this.attr("value",a)}function UMP$UI$JControl$Input$val(a){if(typeof a==="undefined"){this.get_value()}else{this.set_value(a)}}function UMP$UI$JControl$Input$get_readOnly(){return this.attr("readOnly")}function UMP$UI$JControl$Input$set_readOnly(a){this.attr("readOnly",a)}function UMP$UI$JControl$Input$readOnly(a){if(typeof a==="undefined"){this.get_readOnly()}else{this.set_readOnly(a)}}function UMP$UI$JControl$Input$get_maxlength(){return this.attr("maxlength")}function UMP$UI$JControl$Input$set_maxlength(a){this.attr("maxlength",a)}function UMP$UI$JControl$Input$maxlength(a){if(typeof a==="undefined"){this.get_maxlength()}else{this.set_maxlength(a)}}function UMP$UI$JControl$Input$get_placeholder(){return this.attr("placeholder")}function UMP$UI$JControl$Input$set_placeholder(a){this.attr("placeholder",a)}function UMP$UI$JControl$Input$placeholder(a){if(typeof a==="undefined"){this.get_placeholder()}else{this.set_placeholder(a)}}function UMP$UI$JControl$Input$get_bindfield(){return this.attr("bindfield")}function UMP$UI$JControl$Input$set_bindfield(a){this.attr("bindfield",a)}function UMP$UI$JControl$Input$bindfield(a){if(typeof a==="undefined"){this.get_bindfield()}else{this.set_bindfield(a)}}UMP.UI.JControl.Input.prototype={get_value:UMP$UI$JControl$Input$get_value,set_value:UMP$UI$JControl$Input$set_value,val:UMP$UI$JControl$Input$val,get_readOnly:UMP$UI$JControl$Input$get_readOnly,set_readOnly:UMP$UI$JControl$Input$set_readOnly,readOnly:UMP$UI$JControl$Input$readOnly,get_maxlength:UMP$UI$JControl$Input$get_maxlength,set_maxlength:UMP$UI$JControl$Input$set_maxlength,maxlength:UMP$UI$JControl$Input$maxlength,get_placeholder:UMP$UI$JControl$Input$get_placeholder,set_placeholder:UMP$UI$JControl$Input$set_placeholder,placeholder:UMP$UI$JControl$Input$placeholder,get_bindfield:UMP$UI$JControl$Input$get_bindfield,set_bindfield:UMP$UI$JControl$Input$set_bindfield,bindfield:UMP$UI$JControl$Input$bindfield};UMP.UI.JControl.Input.registerClass("UMP.UI.JControl.Input",UMP.UI.Mvc.JControlBase);UMP.UI.JControl.TextBox=function UMP$UI$JControl$TextBox(b){if(this instanceof UMP.UI.JControl.TextBox){var a="类型转换"}if(this.__typeName=="UMP.UI.JControl"){var a="类型转换"}if(typeof b=="undefined"){UMP.UI.JControl.TextBox.initializeBase(this,[])}else{b=$document.parseType(b,UMP.UI.JControl.TextBox);return b}};UMP.UI.JControl.TextBox.prototype={get_text:function(){return this.val()},set_text:function(a){this.val(a)}};UMP.UI.JControl.TextBox.registerClass("UMP.UI.JControl.TextBox",UMP.UI.JControl.Input);UMP.UI.JControl.Number=function UMP$UI$JControl$Number(){if(typeof ele=="undefined"){UMP.UI.JControl.Number.initializeBase(this,[])}else{ele=$document.parseType(ele,UMP.UI.JControl.Number);return ele}};UMP.UI.JControl.Number.prototype={get_max:function(){return this.attr("max")},set_max:function(a){this.attr("max",a)},get_min:function(){return this.attr("min")},set_min:function(a){this.attr("min",a)},get_currency:function(){return this.attr("currency")},set_currency:function(a){this.attr("currency",a)},get_precision:function(){return this.attr("max")},set_precision:function(a){this.attr("precision",a)},get_roundType:function(){return this.attr("max")},set_roundType:function(a){this.attr("roundType",a)},get_roundValue:function(){return this.attr("max")},set_roundValue:function(a){this.attr("roundValue",a)}};UMP.UI.JControl.Number.registerClass("UMP.UI.JControl.Number",UMP.UI.JControl.Input);UMP.UI.JControl.ComboBox=function UMP$UI$JControl$ComboBox(a){if(typeof a=="undefined"){UMP.UI.JControl.ComboBox.initializeBase(this,[]);this._options=[]}else{a=$document.parseType(a,UMP.UI.JControl.ComboBox);return a}};UMP.UI.JControl.ComboBox.prototype={get_datasource:function(){return this.attr("datasource")},set_datasource:function(a){this.attr("datasource",a)},get_options:function(){return this.attr("options")},set_options:function(a){this.attr("options",a)}};UMP.UI.JControl.ComboBox.registerClass("UMP.UI.JControl.ComboBox",UMP.UI.JControl.Input);UMP.UI.JControl.CheckBox=function UMP$UI$JControl$CheckBox(a){if(typeof a=="undefined"){UMP.UI.JControl.CheckBox.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.CheckBox);return a}};UMP.UI.JControl.CheckBox.prototype={get_checked:function(){return this.attr("checked")},set_checked:function(a){this.attr("checked",a)}};UMP.UI.JControl.CheckBox.registerClass("UMP.UI.JControl.CheckBox",UMP.UI.JControl.Input);UMP.UI.JControl.Switch=function UMP$UI$JControl$Switch(a){if(typeof a=="undefined"){UMP.UI.JControl.Switch.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.Switch);return a}};UMP.UI.JControl.Switch.prototype={get_value:function(){return this.attr("value")},set_value:function(a){this.attr("value",val)}};UMP.UI.JControl.Switch.registerClass("UMP.UI.JControl.Switch",UMP.UI.JControl.Input);UMP.UI.JControl.Image=function UMP$UI$JControl$Image(a){if(typeof a=="undefined"){UMP.UI.JControl.Image.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.Image);return a}};UMP.UI.JControl.Image.prototype={get_src:function(){return this.attr("src")},set_src:function(a){this.attr("src",a)}};UMP.UI.JControl.Image.registerClass("UMP.UI.JControl.Image",UMP.UI.Mvc.JControlBase);UMP.UI.JControl.ToggleButton=function UMP$UI$JControl$ToggleButton(a){if(typeof a=="undefined"){UMP.UI.JControl.ToggleButton.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.ToggleButton);return a}};UMP.UI.JControl.ToggleButton.prototype={get_textOn:function(){return this.attr("textOn")},set_textOn:function(a){this.attr("textOn",a)},get_textOff:function(){return this.attr("textOff")},set_textOff:function(a){this.attr("textOff",a)},get_checked:function(){return this.attr("checked")},set_checked:function(a){this.attr("checked",a)},get_onclick:function(){return this.attr("onclick")},set_onclick:function(a){this.attr("onclick",a)}};UMP.UI.JControl.ToggleButton.registerClass("UMP.UI.JControl.ToggleButton",UMP.UI.Mvc.JControlBase);UMP.UI.JControl.Tooltipbar=function UMP$UI$JControl$Tooltipbar(a){if(typeof a=="undefined"){UMP.UI.JControl.Tooltipbar.initializeBase(this,[])}else{a=$document.parseType(a,UMP.UI.JControl.Tooltipbar);return a}};UMP.UI.JControl.Tooltipbar.prototype={get_value:function(){return this.attr("value")},set_value:function(a){this.attr("value",val)}};UMP.UI.JControl.Tooltipbar.registerClass("UMP.UI.JControl.Tooltipbar",UMP.UI.Mvc.JControlBase);$context=null;$$$orderUNode={tag:"context",namespace:"com.yonyou.um",attributes:{id:"order",from_type:"mbe",filter:"",iscascade:"false"},fields:{a:{tag:"field",attributes:{id:"a",type:"string"}},b:{tag:"field",attributes:{id:"b",type:"string"}},c:{tag:"field",attributes:{id:"c",type:"string"}},lines:{tag:"fieldset",attributes:{id:"lines",from:"soline",type:"string",relation:"n",parent_field:"",child_field:"",from_type:"mbe",iscascade:"false"},fields:{la:{tag:"field",attributes:{id:"la",type:"string"}},lb:{tag:"field",attributes:{id:"lb",type:"string"}},lc:{tag:"field",attributes:{id:"lc",type:"string"}},detail:{tag:"fieldset",attributes:{id:"detail",from:"linedetail",type:"string",relation:"n",parent_field:"",child_field:"",from_type:"mbe",iscascade:"false"},fields:{da:{tag:"field",attributes:{id:"da",type:"string"}},db:{tag:"field",attributes:{id:"db",type:"string"}},dc:{tag:"field",attributes:{id:"dc",type:"string"}}}}}},cust:{tag:"fieldset",attributes:{id:"cust",from:"customer",type:"string",relation:"1",parent_field:"",child_field:"",from_type:"mbe",iscascade:"false"},fields:{ca:{tag:"field",attributes:{id:"ca",type:"string"}},cb:{tag:"field",attributes:{id:"cb",type:"string"}},cc:{tag:"field",attributes:{id:"cc",type:"string"}}}}}};$um$createContextDefine=function(f,b){var c=new UMP.UI.Mvc.Entity("context");for(var d in b.attributes){c.attr(d,b.attributes[d])}for(var d in b.fields){var a=b.fields[d].tag;if(a=="field"){var e=$um$createProperty4fd(b.fields[d]);c.addProperty(e)}else{if(a=="fieldset"){var e=$um$createProperty4fdset(b.fields[d]);c.addProperty(e)}}}return c};$um$initEntity=function(c,f,b){c.namespace(b.namespace);for(var d in b.attributes){c.attr(d,b.attributes[d])}for(var d in b.fields){var a=b.fields[d].tag;if(a=="field"){var e=$um$createProperty4fd(b.fields[d]);c.addProperty(e)}else{if(a=="fieldset"){var e=$um$createProperty4fdset(b.fields[d]);c.addProperty(e)}}}return c};$um$createProperty4fd=function(a){if(a.tag=="field"){var c=new UMP.UI.Mvc.Property("field");for(var b in a.attributes){c.attr(b,a.attributes[b])}return c}else{alert("$um$createProperty4fd Error!");return null}};$um$createProperty4fdset=function(a){if(a.tag=="fieldset"){var b=new UMP.UI.Mvc.Entity("fieldset");b.namespace(a.namespace);for(var c in a.attributes){b.attr(c,a.attributes[c])}for(var c in a.fields){if(a.fields[c].tag=="field"){var d=$um$createProperty4fd(a.fields[c]);b.addProperty(d)}else{if(a.fields[c].tag=="fieldset"){var d=$um$createProperty4fdset(a.fields[c]);b.addProperty(d)}}}return b}else{alert("$um$createProperty4fdset Error!");return null}};$$$json={a:1,b:2,c:3,lines:[{la:12,lb:13,lc:14,detail:[{da:1001,db:1002,dc:1003},{da:2001,db:2002,dc:2003}]},{la:22,lb:23,lc:24,detail:[{da:1004,db:1005,dc:1006},{da:2004,db:2005,dc:2006}]}],cust:{ca:"112",cb:"ab23",cc:"dept1"}};_$um$isField=function(a){if(typeof(a)=="number"||typeof(a)=="boolean"||typeof(a)=="string"){return true}else{if(typeof(a)=="object"){return false}else{if(typeof(a)=="function"){return false}}}};_$um$isArray=function(a){if(a instanceof Array){return true}else{return false}};_$um$CRUD$load=function(a,d,b){if(b==null){try{var c="[info] _$um$CRUD$load(ctx,json,entity)....正在执行，此时entity==null,将return null";$console.log(c);c="接下来在xxxControllerBase中的$context将是一个json，而不是一个强类型的context,通常这是由于没有产生context代码引起的";$console.log(c);c="在xxxcontroller中的ctx和$context="+$jsonToString(d);$console.log(c)}catch(f){$console.alert("Log Exception:"+f.stack)}return null}if(d==null){try{var c="[info] _$um$CRUD$load(ctx,json,entity)....正在执行,此时json==null,这基本不可能,将return ctx";$console.log(c)}catch(f){$console.alert("Log Exception:"+f.stack)}return a}if(b.tag()=="context"){_$um$CRUD$loadFieldSet1(a,d,b)}else{if(b.tag()=="fieldset"){_$um$CRUD$loadFieldSet(a,key,d,b)}}a.unload();a.json(d);try{var c="[info] _$um$CRUD$load(ctx,json,entity)....执行完毕,数据加载过程完毕,即将返回一个强类型的Context，此时ctx.unload()=="+a.unload();c+=";此时$jsonToString(json)=="+$jsonToString(d);$console.log(c)}catch(f){$console.alert("Log Exception:"+f.stack)}return a};_$um$CRUD$loadFieldSet=function(c,f,e,d){var a=d.property(f);var h=a.attr("relation");if(h){if(e[f] instanceof Array){var g=new UMP.UI.Mvc.ContextTable(f,a);_$um$CRUD$loadFieldSetN(g,e[f],a);c.addLink(f,g)}else{if(typeof(e[f])=="object"){var b=new UMP.UI.Mvc.Context(f,a);_$um$CRUD$loadFieldSet1(b,e[f],a);c.addLink(f,b)}else{if(typeof(e[f])=="string"&&h=="n"){var g=new UMP.UI.Mvc.ContextTable(f,a);_$um$CRUD$loadFieldSetN(g,e[f],a);c.addLink(f,g)}else{if(typeof(e[f])=="string"&&h=="1"){var b=new UMP.UI.Mvc.Context(f,a);_$um$CRUD$loadFieldSet1(b,e[f],a);c.addLink(f,b)}else{alert(c.id()+"的字段"+f+"不支持relation为"+d.property(f).attr("relation").toString())}}}}}else{alert(c.id()+"的字段"+f+"没有定义relation，请检查Context定义")}};_$um$CRUD$loadFieldSetN=function(e,f,c){if(!f){return}if(!_$um$isArray(f)){/*$alert(c.id()+"在Context定义中表达1:N，但其对应的json数据不是一个数组,而是"+$jsonToString(f));*/return}for(var d=0,a=f.length;d<a;d++){var b=new UMP.UI.Mvc.Context(c.id(),c);_$um$CRUD$loadFieldSet1(b,f[d],c);e.add(b)}};_$um$CRUD$loadFieldSet1=function(a,e,b){if(!e){return}if(!b){b=a.md}for(var d in e){if(b.property(d)==null){a.addUserData(d,e[d])}else{if(b.property(d).tag()=="field"){var c=new UMP.UI.Mvc.Field(d,e[d],b.property(d));a.addField(d,c)}else{if(b.property(d).tag()=="fieldset"){_$um$CRUD$loadFieldSet(a,d,e,b)}}}}};_$um$CRUD$Context2JSON=function(a){if(a.entity().tag()=="context"){return _$um$CRUD$fieldset12json(a)}else{if(a.entity().tag()=="fieldset"){return _$um$CRUD$FieldSet2JSON(a)}else{alert("_$um$CRUD$Context2JSON出错！不支持参数ctx这种类型，ctx.entity().tag()=="+a.entity().tag())}}};_$um$CRUD$FieldSet2JSON=function(a){if(!a){return{}}if(a instanceof UMP.UI.Mvc.ContextTable){return _$um$CRUD$fieldsetN2json(a)}else{if(a instanceof UMP.UI.Mvc.Context){return _$um$CRUD$fieldset12json(a)}else{;alert("Exception in _$um$CRUD$FieldSet2JSON method ,\n\n the Context["+a.id()+"] con not be translated to a json because of fset.contextType() == "+a.contextType())}}};_$um$CRUD$fieldsetN2json=function(c){var e=[];var g=c.rows();for(var d=0,a=g.length;d<a;d++){var b=g[d];var f=_$um$CRUD$fieldset12json(b);e.push(f)}return e};_$um$CRUD$fieldset12json=function(b){var f={};for(var e in b.fields()){var d=b.field(e);if(d instanceof UMP.UI.Mvc.Field){f[e]=d.get()}else{if(d instanceof UMP.UI.Mvc.ContextTable||d instanceof UMP.UI.Mvc.Context){var h=_$um$CRUD$FieldSet2JSON(d);f[e]=h}else{alert("_$um$CRUD$fieldset12json()出错! "+b.id()+"的字段"+e+"是一个不支持类型")}}}if(b.getUserDataKeys()){for(var c=0,a=b.getUserDataKeys().length;c<a;c++){var g=b.getUserDataKeys()[c];f[g]=b[g]}}return f};_$um$CRUD$field2json=function(b){var a={};if(b instanceof UMP.UI.Mvc.Field){a[key]=b.get()}else{alert("_$um$CRUD$field2json()时传入参数不是一个UMP.UI.Mvc.Field类型的对象")}return a};$um$callAction=function(b,a){alert("$um$callAction executing.....")};Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Router=function UMP$UI$Mvc$Router(){};var __debugger=true;function UMP$UI$Mvc$Router$route(d,f,b){$document.initialize();var e={};var c=null;if(typeof b=="string"){c=stringToJSON(b)}else{if(typeof b=="object"){c=b}else{return e}}e=c;e=this.exec(d,f,c);if($sys.cancelPush()==true){$sys.cancelPush(false);return}var a={};if($context.isDisposed&&$context.isDisposed()){}else{if(typeof e!="string"){e=jsonToString(e)}a.context=e}if(typeof $document!="undefined"){a.document=$document.dataToString();$document.clear()}else{a.document={}}_$sys.push(a);return e}function UMP$UI$Mvc$Router$eval(e,f,a,d,b,c){this.route(e+"Base",f,a,d,b,c)}function UMP$UI$Mvc$Router$exec(controllerid,actionid,json){var controllerType=eval(controllerid);var controller=new controllerType();var returnContext=controller.execute(actionid,json);return returnContext}UMP.UI.Mvc.Router.prototype={route:UMP$UI$Mvc$Router$route,eval:UMP$UI$Mvc$Router$eval,exec:UMP$UI$Mvc$Router$exec};UMP.UI.Mvc.Router.registerClass("UMP.UI.Mvc.Router");if(typeof $router=="undefined"){$router=new UMP.UI.Mvc.Router()}Type.registerNamespace("UMP.UI.Mvc");UMP.UI.Mvc.Controller=function UMP$UI$Mvc$Controller(){this._actionMap={};this._context=null;this._entity=null;this._userController=null};function UMP$UI$Mvc$Controller$execute_v1(f,e){var c=this._actionMap[f];for(var d=0,a=c.length;d<a;d++){var b=c[d];e=b.call(this,e)}return e}function UMP$UI$Mvc$Controller$execute(actionid,json){var fun=eval("this."+actionid);json=fun.call(this,json);return json}function UMP$UI$Mvc$Controller$execAction(methodName,json){var funcName=methodName;var json=json;try{this._context=_$um$CRUD$load(this._context,json,this._entity);if(this._context){$context=this._context}else{$context=json}if(!funcName){alert("此Action不存在Method")}if(this._userController){if(this._userController.initialize){this._userController.initialize()}var func=eval("this._userController."+funcName);$context=this.execMethod(func,$context)}if(this._context==null){return $context}var newjson=_$um$CRUD$Context2JSON($context);return newjson}catch(e){alert(e.stack)}return json}function UMP$UI$Mvc$Controller$execMethod(c,b){var a=c(b);if(typeof a=="undefined"){return b}else{return a}}UMP.UI.Mvc.Controller.prototype={execute:UMP$UI$Mvc$Controller$execute,execAction:UMP$UI$Mvc$Controller$execAction,execMethod:UMP$UI$Mvc$Controller$execMethod};UMP.UI.Mvc.Controller.registerClass("UMP.UI.Mvc.Controller");